<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIæ¨ - æ­£åœ¨è·³è½¬...</title>
  <meta name="description" content="æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°AIæ¨æ–°é—»é¡µé¢..." />
  
  <!-- å¾®ä¿¡ç¯å¢ƒä¼˜åŒ– -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  
  <script>
    /**
     * GitHub Pages SPAè·¯ç”±å¤„ç† - ä¼˜åŒ–ç‰ˆ
     * è§£å†³èœå•æŒ‰é’®404é—®é¢˜
     */
    (function(l) {
      // æ£€æµ‹æ˜¯å¦ä¸ºé™æ€èµ„æºæ–‡ä»¶
      if (l.pathname.match(/\.(js|css|png|jpg|jpeg|gif|svg|ico|json|xml|txt|woff|woff2|ttf|eot)$/)) {
        console.log('é™æ€èµ„æºæ–‡ä»¶ï¼Œä¸é‡å®šå‘:', l.pathname);
        return;
      }
      
      var isWeChat = /micromessenger/i.test(navigator.userAgent);
      var currentPath = l.pathname;
      var search = l.search;
      var hash = l.hash;
      
      console.log('404é¡µé¢å¤„ç†:', { currentPath, search, hash, isWeChat });
      
      // æ ‡è®°è¿™æ˜¯ä¸€ä¸ª404é‡å®šå‘ï¼Œé¿å…å¾ªç¯
      var isRedirecting = sessionStorage.getItem('is404Redirecting');
      if (isRedirecting === 'true') {
        console.log('é¿å…é‡å®šå‘å¾ªç¯ï¼Œç›´æ¥è¿”å›é¦–é¡µ');
        sessionStorage.removeItem('is404Redirecting');
        window.location.replace('/');
        return;
      }
      
      sessionStorage.setItem('is404Redirecting', 'true');
      
      // è®¾ç½®å®šæ—¶å™¨æ¸…é™¤é‡å®šå‘æ ‡è®°ï¼Œé˜²æ­¢å¡ä½
      setTimeout(function() {
        sessionStorage.removeItem('is404Redirecting');
      }, 5000);
      
      if (isWeChat) {
        // å¾®ä¿¡ç¯å¢ƒä½¿ç”¨HashRouter
        if (currentPath !== '/' && currentPath !== '/index.html') {
          var hashPath = '#' + currentPath + search + hash;
          console.log('å¾®ä¿¡ç¯å¢ƒé‡å®šå‘åˆ°:', hashPath);
          // ä½¿ç”¨replaceé¿å…äº§ç”Ÿæ–°çš„å†å²è®°å½•
          setTimeout(function() {
            window.location.replace('/' + hashPath);
          }, 100);
        } else {
          setTimeout(function() {
            window.location.replace('/');
          }, 100);
        }
      } else {
        // æ™®é€šç¯å¢ƒï¼šä¿å­˜è·¯å¾„ä¿¡æ¯ï¼Œé‡å®šå‘åˆ°é¦–é¡µ
        if (currentPath !== '/' && currentPath !== '/index.html') {
          // æ¸…é™¤æ—§çš„é‡å®šå‘è·¯å¾„
          sessionStorage.removeItem('redirectPath');
          // ä¿å­˜æ–°çš„è·¯å¾„
          sessionStorage.setItem('redirectPath', currentPath + search + hash);
          console.log('ä¿å­˜é‡å®šå‘è·¯å¾„:', currentPath + search + hash);
        }
        
        // å»¶è¿Ÿé‡å®šå‘ï¼Œç¡®ä¿sessionStorageè®¾ç½®ç”Ÿæ•ˆ
        setTimeout(function() {
          window.location.replace('/');
        }, 100);
      }
    }(window.location));
  </script>
</head>
<body>
  <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
    <h2>ğŸ”„ æ­£åœ¨è·³è½¬...</h2>
    <p>æ­£åœ¨ä¸ºæ‚¨è·³è½¬åˆ°AIæ¨æ–°é—»é¡µé¢</p>
    <p><small>å¦‚æœé¡µé¢æ²¡æœ‰è‡ªåŠ¨è·³è½¬ï¼Œè¯·<a href="/" style="color: #0066cc;">ç‚¹å‡»è¿™é‡Œ</a></small></p>
    
    <script>
      // æ·»åŠ å¤‡ç”¨é‡å®šå‘æœºåˆ¶
      setTimeout(function() {
        if (window.location.pathname !== '/') {
          console.log('å¤‡ç”¨é‡å®šå‘æœºåˆ¶è§¦å‘');
          window.location.href = '/';
        }
      }, 3000);
    </script>
  </div>
</body>
</html>