# RSS新闻聚合系统

这是一个基于RSS源的AI新闻聚合系统，可以自动从国内各大科技媒体获取AI相关新闻。

## 🚀 功能特点

- **多源聚合**: 从机器之心、36氪、钛媒体、InfoQ中文等主流科技媒体获取新闻
- **智能过滤**: 基于AI关键词自动过滤和分类AI相关新闻
- **自动更新**: 支持定时自动更新新闻数据
- **内容处理**: 自动清理HTML标签、生成摘要、提取图片
- **去重处理**: 智能去重，避免重复新闻
- **AI洞察**: 为每条新闻自动生成AI分析洞察

## 📦 安装依赖

```bash
npm install rss-parser node-fetch
```

## 🛠️ 使用方法

### 1. 手动聚合新闻

```bash
npm run aggregate-news
```

### 2. 启动定时服务

```bash
npm run start-news-service
```

定时服务会每30分钟自动更新一次新闻数据。

### 3. 停止服务

按 `Ctrl+C` 停止定时服务。

## 📊 数据格式

聚合的新闻数据会保存到 `public/news-data.json` 文件中，格式如下：

```json
{
  "success": true,
  "timestamp": "2025-08-04T16:25:17.584Z",
  "total": 22,
  "data": [
    {
      "id": "news_1754324714451_6a2cee24",
      "title": "新闻标题",
      "summary": "新闻摘要...",
      "content": "新闻正文...",
      "imageUrl": "https://example.com/image.jpg",
      "source": "机器之心",
      "publishedAt": "2025-08-04T20:28:27+0800",
      "category": "AI",
      "originalUrl": "https://example.com/article",
      "aiInsight": "AI分析洞察..."
    }
  ]
}
```

## 🔧 配置说明

### RSS源配置

在 `scripts/news-service.js` 中可以配置RSS源：

```javascript
const RSS_SOURCES = [
  {
    name: '机器之心',
    url: 'https://www.jiqizhixin.com/rss',
    category: 'AI'
  },
  // 可以添加更多RSS源
];
```

### AI关键词配置

在 `scripts/news-service.js` 中可以配置AI关键词：

```javascript
const AI_KEYWORDS = [
  'AI', '人工智能', '机器学习', '深度学习', 'ChatGPT', 'GPT', '大模型', 'LLM',
  // 可以添加更多关键词
];
```

### 定时任务配置

在 `scripts/news-service.js` 中可以修改定时任务间隔：

```javascript
// 每30分钟执行一次
this.interval = setInterval(() => {
  this.runAggregation();
}, 30 * 60 * 1000);
```

## 📈 性能特点

- **高效聚合**: 支持多个RSS源并发获取
- **智能过滤**: 基于关键词的智能内容过滤
- **自动去重**: 避免重复新闻
- **定时更新**: 支持自动定时更新
- **错误处理**: 完善的错误处理和日志记录

## 🔍 使用场景

1. **开发环境**: 在本地开发时手动运行聚合脚本
2. **生产环境**: 使用定时服务自动更新新闻
3. **CI/CD**: 在构建过程中自动获取最新新闻

## 🚨 注意事项

1. **网络要求**: 需要能够访问RSS源的网站
2. **频率控制**: 避免过于频繁的请求，建议间隔至少30分钟
3. **错误处理**: 网络问题可能导致某些RSS源获取失败
4. **数据备份**: 建议定期备份新闻数据

## 📝 日志示例

```
启动定时新闻聚合服务...
[2025/8/4 16:30:00] 开始定时新闻聚合...
[2025/8/4 16:30:01] 正在爬取 机器之心...
[2025/8/4 16:30:02] 机器之心 获取到 10 条AI相关新闻
[2025/8/4 16:30:03] 正在爬取 36氪...
[2025/8/4 16:30:04] 36氪 获取到 8 条AI相关新闻
[2025/8/4 16:30:05] 正在爬取 钛媒体...
[2025/8/4 16:30:06] 钛媒体 获取到 4 条AI相关新闻
[2025/8/4 16:30:07] 新闻数据已保存到 news-data.json，共 22 条新闻
[2025/8/4 16:30:07] 定时聚合完成，获取 22 条新闻
新闻聚合服务正在运行，按 Ctrl+C 停止...
```

## 🔄 扩展功能

可以考虑添加的功能：

1. **更多RSS源**: 添加更多科技媒体的RSS源
2. **内容翻译**: 支持多语言新闻翻译
3. **智能分类**: 基于内容进行更精细的分类
4. **数据统计**: 添加新闻统计和分析功能
5. **API接口**: 提供RESTful API接口
6. **管理界面**: 添加Web管理界面

## 📞 技术支持

如有问题或建议，请联系开发团队。