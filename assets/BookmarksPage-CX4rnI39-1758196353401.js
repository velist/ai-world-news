import{j as e}from"./ui-core-GA_v2uMo-1758196353401.js";import{r as s}from"./react-vendor-BrSRjOqW-1758196353401.js";import{u as r,H as t,N as o,M as a}from"./index-D8bJQU6a-1758196353401.js";import{u as n}from"./router-XHDAhyvo-1758196353401.js";import{B as l,Y as i,a as c,m}from"./vendor-misc-Ct802AXv-1758196353401.js";import"./utils-DdJ5UvfL-1758196353401.js";import"./query-9AtuPAkH-1758196353401.js";import"./ui-extended-CYEOc7mC-1758196353401.js";const d=()=>{const{isZh:d}=r(),u=n(),[x,h]=s.useState([]),[g,p]=s.useState("");s.useEffect(()=>{const e=()=>{try{const e=localStorage.getItem("bookmarked-news");if(e){const s=JSON.parse(e);h(Array.isArray(s)?s:[])}}catch(e){h([])}};e();const s=s=>{"bookmarked-news"===s.key&&e()};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]);const f=x.filter(e=>e.title.toLowerCase().includes(g.toLowerCase())||e.summary.toLowerCase().includes(g.toLowerCase())||e.source.toLowerCase().includes(g.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(t,{children:[e.jsx("title",{children:d?"AI推 - 我的收藏":"AI Push - My Bookmarks"}),e.jsx("meta",{name:"description",content:d?"查看我收藏的AI新闻和文章":"View my saved AI news and articles"})]}),e.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsx("div",{className:"container flex h-14 items-center",children:e.jsxs("div",{className:"flex flex-1 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-lg font-semibold",children:d?"我的收藏":"My Bookmarks"})]}),x.length>0&&e.jsxs("button",{onClick:()=>{window.confirm(d?"确定要清空所有收藏吗？":"Clear all bookmarks?")&&(h([]),localStorage.removeItem("bookmarked-news"))},className:"flex items-center space-x-1 text-sm text-red-600 hover:text-red-700",children:[e.jsx(i,{className:"h-4 w-4"}),e.jsx("span",{children:d?"清空":"Clear"})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-6",children:0===x.length?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(c,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:d?"暂无收藏":"No bookmarks yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:d?"在浏览新闻时点击收藏按钮，就可以在这里找到它们了":"Bookmark news articles while browsing to find them here later"}),e.jsx("button",{onClick:()=>u("/"),className:"mt-4 px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90",children:d?"去看新闻":"Browse News"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:d?"搜索收藏的新闻...":"Search bookmarked news...",value:g,onChange:e=>p(e.target.value),className:"w-full pl-9 pr-4 py-2 border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:f.length===x.length?d?`共 ${x.length} 条收藏`:`${x.length} bookmarks total`:d?`显示 ${f.length} 条，共 ${x.length} 条收藏`:`Showing ${f.length} of ${x.length} bookmarks`})}),f.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-20",children:f.map(s=>e.jsxs("div",{className:"relative group",children:[e.jsx(o,{...s,onImageError:()=>{},className:"h-full"}),e.jsx("button",{onClick:()=>(e=>{try{const s=x.filter(s=>s.id!==e);h(s),localStorage.setItem("bookmarked-news",JSON.stringify(s))}catch(s){}})(s.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",title:d?"移除收藏":"Remove bookmark",children:e.jsx(i,{className:"h-3 w-3"})})]},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:d?"没有找到匹配的收藏新闻":"No matching bookmarked news found"})})]})}),e.jsx(a,{currentPath:"/bookmarks",onMenuClick:()=>{}})]})};export{d as default};
