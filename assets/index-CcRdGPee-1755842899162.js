const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NewsDetailPage-BKmjOKCI-1755842899162.js","assets/ui-core-DlG79O7O-1755842899162.js","assets/react-vendor-BrSRjOqW-1755842899162.js","assets/separator-BT7AlCeL-1755842899162.js","assets/ui-extended-hc5MeGk--1755842899162.js","assets/vendor-misc-C2SK67Fu-1755842899162.js","assets/personalSubscriptionShareService-CSC8Wb4n-1755842899162.js","assets/router-Cb9d5RLx-1755842899162.js","assets/utils-DdJ5UvfL-1755842899162.js","assets/query-0I995wiv-1755842899162.js","assets/charts-DJsgu5DB-1755842899162.js","assets/NotFound-BuCI9CfC-1755842899162.js","assets/WeChatDebugPage-DUziU_yT-1755842899162.js","assets/DebugNews-B28VGLJ3-1755842899162.js","assets/AboutPage-erx7aEUS-1755842899162.js","assets/ServicesPage-DuBwd9ur-1755842899162.js","assets/ContactPage-CBpm4dab-1755842899162.js","assets/input-CpP1blYx-1755842899162.js","assets/BlogPage-Bwa4WP54-1755842899162.js","assets/BlogArticlePage-DohGaX9m-1755842899162.js","assets/markdown-BcP8UI-1-1755842899162.js","assets/WebsiteIntroPage-BXhrX5yx-1755842899162.js","assets/GPT5PricingAnalysisPage-DNBozB2D-1755842899162.js"])))=>i.map(i=>d[i]);
var e,t,s,r=Object.defineProperty,n=(e,t,s)=>((e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);import{V as a,g as i,A as o,C as c,T as l,D as d,j as u,h as m,i as h,k as p,S as g}from"./ui-core-DlG79O7O-1755842899162.js";import{b as f,r as x,g as y,a as v}from"./react-vendor-BrSRjOqW-1755842899162.js";import{t as b,c as w,a as j}from"./utils-DdJ5UvfL-1755842899162.js";import{X as N,T as A,R as S,L as I,M as C,S as T,G as E,U as k,a as O,E as R,C as _,b as z,H as P,B as $,I as D,c as L,d as M,N as U,F as q,e as H,f as W,g as F,h as B,i as G,j as V,k as Q,l as J}from"./vendor-misc-C2SK67Fu-1755842899162.js";import{Q as K,a as Z}from"./query-0I995wiv-1755842899162.js";import{u as Y,L as X,R as ee,a as te,H as se,B as re}from"./router-Cb9d5RLx-1755842899162.js";import{L as ne,T as ae,C as ie,R as oe}from"./ui-extended-hc5MeGk--1755842899162.js";import{_ as ce,a as le,b as de}from"./charts-DJsgu5DB-1755842899162.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ue=f;s=ue.createRoot,ue.hydrateRoot;const me={},he=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in me)return;me[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,s&&n.setAttribute("nonce",s),document.head.appendChild(n),t?new Promise((t,s)=>{n.addEventListener("load",t),n.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};let pe=0;const ge=new Map,fe=e=>{if(ge.has(e))return;const t=setTimeout(()=>{ge.delete(e),be({type:"REMOVE_TOAST",toastId:e})},1e6);ge.set(e,t)},xe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?fe(s):e.toasts.forEach(e=>{fe(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},ye=[];let ve={toasts:[]};function be(e){ve=xe(ve,e),ye.forEach(e=>{e(ve)})}function we({...e}){const t=(pe=(pe+1)%Number.MAX_SAFE_INTEGER,pe.toString()),s=()=>be({type:"DISMISS_TOAST",toastId:t});return be({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>be({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function je(){const[e,t]=x.useState(ve);return x.useEffect(()=>(ye.push(t),()=>{const e=ye.indexOf(t);e>-1&&ye.splice(e,1)}),[e]),{...e,toast:we,dismiss:e=>be({type:"DISMISS_TOAST",toastId:e})}}function Ne(...e){return b(w(e))}const Ae=m,Se=x.forwardRef(({className:e,...t},s)=>u.jsx(a,{ref:s,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Se.displayName=a.displayName;const Ie=j("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ce=x.forwardRef(({className:e,variant:t,...s},r)=>u.jsx(i,{ref:r,className:Ne(Ie({variant:t}),e),...s}));Ce.displayName=i.displayName;x.forwardRef(({className:e,...t},s)=>u.jsx(o,{ref:s,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=o.displayName;const Te=x.forwardRef(({className:e,...t},s)=>u.jsx(c,{ref:s,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(N,{className:"h-4 w-4"})}));Te.displayName=c.displayName;const Ee=x.forwardRef(({className:e,...t},s)=>u.jsx(l,{ref:s,className:Ne("text-sm font-semibold",e),...t}));Ee.displayName=l.displayName;const ke=x.forwardRef(({className:e,...t},s)=>u.jsx(d,{ref:s,className:Ne("text-sm opacity-90",e),...t}));function Oe(){const{toasts:e}=je();return u.jsxs(Ae,{children:[e.map(function({id:e,title:t,description:s,action:r,...n}){return u.jsxs(Ce,{...n,children:[u.jsxs("div",{className:"grid gap-1",children:[t&&u.jsx(Ee,{children:t}),s&&u.jsx(ke,{children:s})]}),r,u.jsx(Te,{})]},e)}),u.jsx(Se,{})]})}ke.displayName=d.displayName;var Re=["light","dark"],_e=x.createContext(void 0),ze={setTheme:e=>{},themes:[]};x.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:n,defaultTheme:a,value:i,attrs:o,nonce:c})=>{let l="system"===a,d="class"===s?`var d=document.documentElement,c=d.classList;c.remove(${o.map(e=>`'${e}'`).join(",")});`:`var d=document.documentElement,n='${s}',s='setAttribute';`,u=n?Re.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(e,t=!1,r=!0)=>{let a=i?i[e]:e,o=t?e+"|| ''":`'${a}'`,c="";return n&&r&&!t&&Re.includes(e)&&(c+=`d.style.colorScheme = '${e}';`),"class"===s?c+=t||a?`c.add(${o})`:"null":a&&(c+=`d[s](n,${o})`),c},h=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${l})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${l?"":"else{"+m(a,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${u}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});const Pe=({...e})=>{const{theme:t="system"}=null!=(s=x.useContext(_e))?s:ze;var s;return u.jsx(A,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},$e=p;x.forwardRef(({className:e,sideOffset:t=4,...s},r)=>u.jsx(h,{ref:r,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=h.displayName;var De="undefined"!=typeof Element,Le="function"==typeof Map,Me="function"==typeof Set,Ue="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function qe(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,n,a;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!qe(e[r],t[r]))return!1;return!0}if(Le&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!qe(r.value[1],t.get(r.value[0])))return!1;return!0}if(Me&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Ue&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(De&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==n[r]&&"__v"!==n[r]&&"__o"!==n[r]||!e.$$typeof)&&!qe(e[n[r]],t[n[r]]))return!1;return!0}return e!=e&&t!=t}const He=y(function(e,t){try{return qe(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const We=y(function(e,t,s,r,n,a,i,o){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[s,r,n,a,i,o],d=0;(c=new Error(t.replace(/%s/g,function(){return l[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}});const Fe=y(function(e,t,s,r){var n=s?s.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var l=a[c];if(!o(l))return!1;var d=e[l],u=t[l];if(!1===(n=s?s.call(r,d,u,l):void 0)||void 0===n&&d!==u)return!1}return!0});var Be=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Be||{}),Ge={rel:["amphtml","canonical","alternate"]},Ve={type:["application/ld+json"]},Qe={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Je=Object.values(Be),Ke={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ze=Object.entries(Ke).reduce((e,[t,s])=>(e[s]=t,e),{}),Ye="data-rh",Xe="defaultTitle",et="defer",tt="encodeSpecialCharacters",st="onChangeClientState",rt="titleTemplate",nt="prioritizeSeoTags",at=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},it=e=>{let t=at(e,"title");const s=at(e,rt);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=at(e,Xe);return t||r||void 0},ot=e=>at(e,st)||(()=>{}),ct=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),lt=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const r=Object.keys(s);for(let n=0;n<r.length;n+=1){const a=r[n].toLowerCase();if(-1!==e.indexOf(a)&&s[a])return t.concat(s)}}return t},[]),dt=(e,t,s)=>{const r={};return s.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,s)=>{const n={};s.filter(e=>{let s;const a=Object.keys(e);for(let r=0;r<a.length;r+=1){const n=a[r],i=n.toLowerCase();-1===t.indexOf(i)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(s=i),-1===t.indexOf(n)||"innerHTML"!==n&&"cssText"!==n&&"itemprop"!==n||(s=n)}if(!s||!e[s])return!1;const i=e[s].toLowerCase();return r[s]||(r[s]={}),n[s]||(n[s]={}),!r[s][i]&&(n[s][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const a=Object.keys(n);for(let t=0;t<a.length;t+=1){const e=a[t],s={...r[e],...n[e]};r[e]=s}return e},[]).reverse()},ut=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},mt=e=>Array.isArray(e)?e.join(""):e,ht=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},pt=(e,t)=>({...e,[t]:void 0}),gt=["noscript","script","style"],ft=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),xt=e=>Object.keys(e).reduce((t,s)=>{const r=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),yt=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[Ke[s]||s]=e[s],t),t),vt=(e,t)=>t.map((t,s)=>{const r={key:s,[Ye]:!0};return Object.keys(t).forEach(e=>{const s=Ke[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[s]=t[e]}),v.createElement(e,r)}),bt=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const r=yt(s,{key:t,[Ye]:!0});return[v.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,r)=>{const n=xt(s),a=mt(t);return n?`<${e} ${Ye}="true" ${n}>${ft(a,r)}</${e}>`:`<${e} ${Ye}="true">${ft(a,r)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>yt(t),toString:()=>xt(t)};default:return{toComponent:()=>vt(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,r)=>{const n=r,a=Object.keys(n).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===n[t]?t:`${t}="${ft(n[t],s)}"`;return e?`${e} ${r}`:r},""),i=n.innerHTML||n.cssText||"",o=-1===gt.indexOf(e);return`${t}<${e} ${Ye}="true" ${a}${o?"/>":`>${i}</${e}>`}`},""))(e,t,s)}}},wt=e=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:n,noscriptTags:a,styleTags:i,title:o="",titleAttributes:c,prioritizeSeoTags:l}=e;let{linkTags:d,metaTags:u,scriptTags:m}=e,h={toComponent:()=>{},toString:()=>""};return l&&({priorityMethods:h,linkTags:d,metaTags:u,scriptTags:m}=(({metaTags:e,linkTags:t,scriptTags:s,encode:r})=>{const n=ht(e,Qe),a=ht(t,Ge),i=ht(s,Ve);return{priorityMethods:{toComponent:()=>[...vt("meta",n.priority),...vt("link",a.priority),...vt("script",i.priority)],toString:()=>`${bt("meta",n.priority,r)} ${bt("link",a.priority,r)} ${bt("script",i.priority,r)}`},metaTags:n.default,linkTags:a.default,scriptTags:i.default}})(e)),{priority:h,base:bt("base",t,r),bodyAttributes:bt("bodyAttributes",s,r),htmlAttributes:bt("htmlAttributes",n,r),link:bt("link",d,r),meta:bt("meta",u,r),noscript:bt("noscript",a,r),script:bt("script",m,r),style:bt("style",i,r),title:bt("title",{title:o,titleAttributes:c},r)}},jt=[],Nt=!("undefined"==typeof window||!window.document||!window.document.createElement),At=class{constructor(e,t){n(this,"instances",[]),n(this,"canUseDOM",Nt),n(this,"context"),n(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?jt:this.instances,add:e=>{(this.canUseDOM?jt:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?jt:this.instances).indexOf(e);(this.canUseDOM?jt:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=wt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},St=v.createContext({}),It=(e=class extends x.Component{constructor(t){super(t),n(this,"helmetData"),this.helmetData=new At(this.props.context||{},e.canUseDOM)}render(){return v.createElement(St.Provider,{value:this.helmetData.value},this.props.children)}},n(e,"canUseDOM",Nt),e),Ct=(e,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${e}[${Ye}]`),n=[].slice.call(r),a=[];let i;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const r=e,n=void 0===t[r]?"":t[r];s.setAttribute(e,n)}s.setAttribute(Ye,"true"),n.some((e,t)=>(i=t,s.isEqualNode(e)))?n.splice(i,1):a.push(s)}),n.forEach(e=>e.parentNode?.removeChild(e)),a.forEach(e=>s.appendChild(e)),{oldTags:n,newTags:a}},Tt=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const r=s.getAttribute(Ye),n=r?r.split(","):[],a=[...n],i=Object.keys(t);for(const o of i){const e=t[o]||"";s.getAttribute(o)!==e&&s.setAttribute(o,e),-1===n.indexOf(o)&&n.push(o);const r=a.indexOf(o);-1!==r&&a.splice(r,1)}for(let o=a.length-1;o>=0;o-=1)s.removeAttribute(a[o]);n.length===a.length?s.removeAttribute(Ye):s.getAttribute(Ye)!==i.join(",")&&s.setAttribute(Ye,i.join(","))},Et=(e,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:n,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:c,scriptTags:l,styleTags:d,title:u,titleAttributes:m}=e;Tt("body",r),Tt("html",n),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=mt(e)),Tt("title",t)})(u,m);const h={baseTag:Ct("base",s),linkTags:Ct("link",a),metaTags:Ct("meta",i),noscriptTags:Ct("noscript",o),scriptTags:Ct("script",l),styleTags:Ct("style",d)},p={},g={};Object.keys(h).forEach(e=>{const{newTags:t,oldTags:s}=h[e];t.length&&(p[e]=t),s.length&&(g[e]=h[e].oldTags)}),t&&t(),c(e,p,g)},kt=null,Ot=e=>{kt&&cancelAnimationFrame(kt),e.defer?kt=requestAnimationFrame(()=>{Et(e,()=>{kt=null})}):(Et(e),kt=null)},Rt=class extends x.Component{constructor(){super(...arguments),n(this,"rendered",!1)}shouldComponentUpdate(e){return!Fe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const r=(n=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:lt(["href"],n),bodyAttributes:ct("bodyAttributes",n),defer:at(n,et),encode:at(n,tt),htmlAttributes:ct("htmlAttributes",n),linkTags:dt("link",["rel","href"],n),metaTags:dt("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:dt("noscript",["innerHTML"],n),onChangeClientState:ot(n),scriptTags:dt("script",["src","innerHTML"],n),styleTags:dt("style",["cssText"],n),title:it(n),titleAttributes:ct("titleAttributes",n),prioritizeSeoTags:ut(n,nt)});var n;It.canUseDOM?Ot(r):wt&&(s=wt(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},_t=(t=class extends x.Component{shouldComponentUpdate(e){return!He(pt(this.props,"helmetData"),pt(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,r){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,s,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return We(Je.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Je.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),We(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return v.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...n}=e.props,a=Object.keys(n).reduce((e,t)=>(e[Ze[t]||t]=n[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,r),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,a,r);break;default:t=this.mapObjectTypeChildren(e,t,a,r)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:r}=t;if(e&&(s=this.mapChildrenToProps(e,s)),r&&!(r instanceof At)){r=new At(r.context,!0),delete s.helmetData}return r?v.createElement(Rt,{...s,context:r.value}):v.createElement(St.Consumer,null,e=>v.createElement(Rt,{...s,context:e}))}},n(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);const zt=x.createContext(void 0),Pt=({children:e})=>{const[t,s]=x.useState(()=>{if("undefined"!=typeof window){return localStorage.getItem("language")||"zh"}return"zh"});x.useEffect(()=>{"undefined"!=typeof window&&localStorage.setItem("language",t)},[t]);const r={language:t,setLanguage:s,toggleLanguage:()=>{s("zh"===t?"en":"zh")},isZh:"zh"===t,isEn:"en"===t};return u.jsx(zt.Provider,{value:r,children:e})},$t=()=>{const e=x.useContext(zt);if(void 0===e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Dt=()=>{const{hasUpdate:e,refreshPage:t,dismissUpdate:s}=(()=>{const[e,t]=x.useState(!1),[s,r]=x.useState("");return x.useEffect(()=>{const e=async()=>{try{const e=localStorage.getItem("app_version"),s=Date.now().toString(),n=await fetch("/version.json?"+Date.now());if(n.ok){const s=await n.json();e&&e!==s.version&&t(!0),r(s.version),localStorage.setItem("app_version",s.version)}else{const n=`build-${s}`;e&&e!==n&&t(!0),r(n),localStorage.setItem("app_version",n)}}catch(e){}},s=()=>{t(!0)};window.addEventListener("sw-update-available",s),e();const n=setInterval(e,3e5);return()=>{clearInterval(n),window.removeEventListener("sw-update-available",s)}},[]),{hasUpdate:e,currentVersion:s,refreshPage:()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>{e.unregister()}),"caches"in window?caches.keys().then(e=>{e.forEach(e=>{caches.delete(e)}),window.location.reload()}):window.location.reload()}):window.location.reload()},dismissUpdate:()=>{t(!1)}}})(),{language:r}=$t(),n="zh"===r;return e?u.jsxs("div",{className:"fixed top-16 left-1/2 transform -translate-x-1/2 z-50 bg-blue-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-3 animate-in slide-in-from-top-2",children:[u.jsx(S,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:n?"发现新版本！点击刷新获取最新内容":"New version available! Click to refresh"}),u.jsx("button",{onClick:t,className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-sm transition-colors",children:n?"刷新":"Refresh"}),u.jsx("button",{onClick:s,className:"hover:bg-white/20 p-1 rounded transition-colors",children:u.jsx(N,{className:"w-4 h-4"})})]}):null},Lt=()=>{const[e,t]=x.useState(!1),[s,r]=x.useState(null);return x.useEffect(()=>{const e=/micromessenger/i.test(navigator.userAgent);if(t(e),!e)return;const s=()=>{const e={path:window.location.pathname,timestamp:Date.now()};sessionStorage.setItem("wechat_page_state",JSON.stringify(e))};return(()=>{const e=window.location.hash;return e&&e.startsWith("#/news/"),!1})()||((()=>{const e=document.createElement("meta");e.setAttribute("http-equiv","Cache-Control"),e.setAttribute("content","no-cache, no-store, must-revalidate"),document.head.appendChild(e)})(),(()=>{const e=sessionStorage.getItem("wechat_page_state");if(e)try{const t=JSON.parse(e);r(t),sessionStorage.removeItem("wechat_page_state")}catch(t){}})()),window.addEventListener("beforeunload",s),void 0!==window.WeixinJSBridge||document.addEventListener("WeixinJSBridgeReady",()=>{}),()=>{window.removeEventListener("beforeunload",s)}},[]),{isWeChat:e,pageState:s}},Mt=e=>`https://news.aipush.fun/#/news/${e}`,Ut=()=>/micromessenger/i.test(navigator.userAgent);class qt extends v.Component{constructor(e){super(e),n(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"}),n(this,"isWeChatEnvironment",()=>/micromessenger/i.test(navigator.userAgent)),n(this,"isZhLanguage",()=>(navigator.language||"zh-CN").startsWith("zh")),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){/micromessenger/i.test(navigator.userAgent)}render(){const e=this.isZhLanguage();return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs("div",{className:"text-center max-w-md mx-auto",children:[u.jsx("div",{className:"text-6xl mb-4",children:"😅"}),u.jsx("h1",{className:"text-2xl font-bold mb-4 text-foreground",children:e?"页面遇到一点小问题":"Oops! Something went wrong"}),u.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:e?"页面加载出现了异常，不过别担心，我们正在为您返回首页":"The page encountered an error, but don't worry, we'll take you back home"}),this.isWeChatEnvironment()&&u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:u.jsx("p",{className:"text-sm text-blue-800",children:e?"💡 微信环境提示：如果问题持续，请尝试清除微信缓存或重新打开":"💡 WeChat tip: If the problem persists, try clearing WeChat cache or reopen"})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:this.handleReset,className:"w-full px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium",children:e?"返回首页":"Back to Home"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/90 transition-colors font-medium",children:e?"重新加载页面":"Reload Page"})]}),!1]})}):this.props.children}}const Ht=()=>{const e=Y(),t=Ut(),[s,r]=x.useState(!1);return x.useEffect(()=>{if(!t||s)return;const n=window.location.hash;window.location.pathname;if(n&&n.startsWith("#/news/")){const t=n.match(/#\/news\/(.+)/);if(t&&t[1]){const s=t[1];setTimeout(()=>{e(`/news/${s}`,{replace:!0}),r(!0)},100)}}},[e,t,s]),null},Wt=()=>/micromessenger/i.test(navigator.userAgent),Ft=()=>{if(/micromessenger/i.test(navigator.userAgent)&&window.location.hash){const e=window.location.hash.slice(1)||"/";if(e&&"/"!==e)return}},Bt=()=>{if(/micromessenger/i.test(navigator.userAgent))sessionStorage.removeItem("is404Redirecting");else{sessionStorage.removeItem("is404Redirecting");const t=sessionStorage.getItem("redirectPath");if(t){sessionStorage.removeItem("redirectPath");try{if(t.startsWith("/")&&t.length>1)return void window.history.replaceState({},"",t)}catch(e){}}const s=(()=>{const t=new URLSearchParams(window.location.search).get("path");if(t)try{return decodeURIComponent(t)}catch(e){return"/"}return"/"})();if(s&&"/"!==s)try{s.startsWith("/")&&s.length>1&&window.history.replaceState({},"",s)}catch(e){}}},Gt=()=>{const{language:e,toggleLanguage:t}=$t();return u.jsxs("button",{onClick:t,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full text-white transition-all duration-200 group",title:"zh"===e?"Switch to English":"切换到中文",children:[u.jsx(I,{className:"w-4 h-4"}),u.jsx("span",{className:"text-sm font-medium",children:"zh"===e?"EN":"中"})]})},Vt=({onMenuClick:e})=>{const[t,s]=x.useState(!1),{isZh:r}=$t();return u.jsxs("div",{className:"relative overflow-hidden bg-gradient-hero rounded-b-3xl shadow-large",children:[u.jsx("div",{className:"absolute inset-0 bg-black/10"}),u.jsx("div",{className:"absolute top-4 left-4 z-10",children:u.jsx("button",{onClick:e,className:"flex items-center space-x-1.5 px-3 py-1.5 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full text-white transition-all duration-200 group",children:u.jsx(C,{className:"w-4 h-4"})})}),u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx(Gt,{})}),u.jsxs("div",{className:"relative px-4 py-8 text-center text-white",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[u.jsx(T,{className:"w-6 h-6"}),u.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:r?"实时AI新闻推送系统":"Real-time AI News System"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2 opacity-90 mb-3",children:[u.jsx(E,{className:"w-4 h-4"}),u.jsx("p",{className:"text-sm md:text-base",children:r?"国际新闻推送 · AI翻译 · AI点评":"Global News · AI Translation · AI Analysis"})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx(k,{className:"w-4 h-4"}),u.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText("forxy9"),s(!0),setTimeout(()=>s(!1),3e3)}catch(e){const t=document.createElement("input");t.value="forxy9",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),s(!0),setTimeout(()=>s(!1),3e3)}},className:"text-sm hover:text-blue-200 transition-colors underline decoration-dotted underline-offset-2",children:r?"点击加入AI交流社群，一起成长":"Join AI Community for Growth"})]}),t&&u.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-in fade-in slide-in-from-top-2",children:r?"复制成功，打开微信搜索！":"Copied! Search in WeChat!"}),u.jsx("div",{className:"absolute top-8 right-8 w-1 h-1 bg-white/40 rounded-full animate-pulse delay-300"}),u.jsx("div",{className:"absolute bottom-6 right-8 w-1 h-1 bg-white/50 rounded-full animate-pulse delay-700"})]})]})},Qt=oe,Jt=x.forwardRef(({className:e,...t},s)=>u.jsx(ne,{ref:s,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jt.displayName=ne.displayName;const Kt=x.forwardRef(({className:e,...t},s)=>u.jsx(ae,{ref:s,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Kt.displayName=ae.displayName;x.forwardRef(({className:e,...t},s)=>u.jsx(ie,{ref:s,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})).displayName=ie.displayName;const Zt=({categories:e,activeCategory:t,onCategoryChange:s})=>{const{isZh:r}=$t(),n=e=>{switch(e.toLowerCase()){case"全部":default:return"📰";case"ai":case"ai模型":case"ai 模型":return"🤖";case"科技":return"💻";case"经济":return"📈";case"深度分析":return"🔍"}},a=e=>{if(!r)switch(e){case"全部":return"All";case"AI":return"AI";case"科技":return"Tech";case"经济":return"Economy";case"深度分析":return"Analysis";default:return e}return e};return u.jsx("div",{className:"w-full overflow-x-auto",children:u.jsx(Qt,{value:t,onValueChange:s,children:u.jsx(Jt,{className:"inline-flex h-auto bg-muted/50 p-1 rounded-xl backdrop-blur-sm border border-border/50",children:e.map(e=>u.jsxs(Kt,{value:e,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 data-[state=active]:bg-gradient-primary data-[state=active]:text-white data-[state=active]:shadow-medium whitespace-nowrap",children:[u.jsx("span",{className:"text-base",children:n(e)}),u.jsx("span",{children:a(e)})]},e))})})})};var Yt=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Xt(e,t){return e===t||!(!Yt(e)||!Yt(t))}function es(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(!Xt(e[s],t[s]))return!1;return!0}function ts(e,t){var s;void 0===t&&(t=es);var r,n=[],a=!1;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return a&&s===this&&t(i,n)||(r=e.apply(this,i),a=!0,s=this,n=i),r}}var ss="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function rs(e){cancelAnimationFrame(e.id)}var ns=-1;function as(e){if(void 0===e&&(e=!1),-1===ns||e){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(t),ns=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ns}var is=null;function os(e){if(void 0===e&&(e=!1),null===is||e){var t=document.createElement("div"),s=t.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var r=document.createElement("div"),n=r.style;return n.width="100px",n.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?is="positive-descending":(t.scrollLeft=1,is=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),is}return is}var cs=function(e,t){return e};function ls(e){var t,s=e.getItemOffset,r=e.getEstimatedTotalSize,n=e.getItemSize,a=e.getOffsetForIndexAndAlignment,i=e.getStartIndexForOffset,o=e.getStopIndexForStartIndex,c=e.initInstanceProps,l=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=c(r.props,de(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:de(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=ts(function(e,t,s,n){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:s,visibleStopIndex:n})}),r._callOnScroll=void 0,r._callOnScroll=ts(function(e,t,s){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:s})}),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,a=r.props,i=a.direction,o=a.itemSize,c=a.layout,d=r._getItemStyleCache(l&&o,l&&c,l&&i);if(d.hasOwnProperty(e))t=d[e];else{var u=s(r.props,e,r._instanceProps),m=n(r.props,e,r._instanceProps),h="horizontal"===i||"horizontal"===c,p="rtl"===i,g=h?u:0;d[e]=t={position:"absolute",left:p?void 0:g,right:p?g:void 0,top:h?0:u,height:h?"100%":m,width:h?m:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=ts(function(e,t,s){return{}}),r._onScrollHorizontal=function(e){var t=e.currentTarget,s=t.clientWidth,n=t.scrollLeft,a=t.scrollWidth;r.setState(function(e){if(e.scrollOffset===n)return null;var t=r.props.direction,i=n;if("rtl"===t)switch(os()){case"negative":i=-n;break;case"positive-descending":i=a-s-n}return i=Math.max(0,Math.min(i,a-s)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,s=t.clientHeight,n=t.scrollHeight,a=t.scrollTop;r.setState(function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,n-s));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){var e,t,s,n;null!==r._resetIsScrollingTimeoutId&&rs(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=(e=r._resetIsScrolling,t=150,s=ss(),n={id:requestAnimationFrame(function r(){ss()-s>=t?e.call(null):n.id=requestAnimationFrame(r)})})},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}ce(t,e),t.getDerivedStateFromProps=function(e,t){return ds(e,t),d(e),null};var u=t.prototype;return u.scrollTo=function(e){e=Math.max(0,e),this.setState(function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},u.scrollToItem=function(e,t){void 0===t&&(t="auto");var s=this.props,r=s.itemCount,n=s.layout,i=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var o=0;if(this._outerRef){var c=this._outerRef;o="vertical"===n?c.scrollWidth>c.clientWidth?as():0:c.scrollHeight>c.clientHeight?as():0}this.scrollTo(a(this.props,e,t,i,this._instanceProps,o))},u.componentDidMount=function(){var e=this.props,t=e.direction,s=e.initialScrollOffset,r=e.layout;if("number"==typeof s&&null!=this._outerRef){var n=this._outerRef;"horizontal"===t||"horizontal"===r?n.scrollLeft=s:n.scrollTop=s}this._callPropsCallbacks()},u.componentDidUpdate=function(){var e=this.props,t=e.direction,s=e.layout,r=this.state,n=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===s)if("rtl"===t)switch(os()){case"negative":a.scrollLeft=-n;break;case"positive-ascending":a.scrollLeft=n;break;default:var i=a.clientWidth,o=a.scrollWidth;a.scrollLeft=o-i-n}else a.scrollLeft=n;else a.scrollTop=n}this._callPropsCallbacks()},u.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&rs(this._resetIsScrollingTimeoutId)},u.render=function(){var e=this.props,t=e.children,s=e.className,n=e.direction,a=e.height,i=e.innerRef,o=e.innerElementType,c=e.innerTagName,l=e.itemCount,d=e.itemData,u=e.itemKey,m=void 0===u?cs:u,h=e.layout,p=e.outerElementType,g=e.outerTagName,f=e.style,y=e.useIsScrolling,v=e.width,b=this.state.isScrolling,w="horizontal"===n||"horizontal"===h,j=w?this._onScrollHorizontal:this._onScrollVertical,N=this._getRangeToRender(),A=N[0],S=N[1],I=[];if(l>0)for(var C=A;C<=S;C++)I.push(x.createElement(t,{data:d,key:m(C,d),index:C,isScrolling:y?b:void 0,style:this._getItemStyle(C)}));var T=r(this.props,this._instanceProps);return x.createElement(p||g||"div",{className:s,onScroll:j,ref:this._outerRefSetter,style:le({position:"relative",height:a,width:v,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:n},f)},x.createElement(o||c||"div",{children:I,ref:i,style:{height:w?"100%":T,pointerEvents:b?"none":void 0,width:w?T:"100%"}}))},u._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],s=e[1],r=e[2],n=e[3];this._callOnItemsRendered(t,s,r,n)}if("function"==typeof this.props.onScroll){var a=this.state,i=a.scrollDirection,o=a.scrollOffset,c=a.scrollUpdateWasRequested;this._callOnScroll(i,o,c)}},u._getRangeToRender=function(){var e=this.props,t=e.itemCount,s=e.overscanCount,r=this.state,n=r.isScrolling,a=r.scrollDirection,c=r.scrollOffset;if(0===t)return[0,0,0,0];var l=i(this.props,c,this._instanceProps),d=o(this.props,l,c,this._instanceProps),u=n&&"backward"!==a?1:Math.max(1,s),m=n&&"forward"!==a?1:Math.max(1,s);return[Math.max(0,l-u),Math.max(0,Math.min(t-1,d+m)),l,d]},t}(x.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var ds=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},us=ls({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,s,r,n,a){var i=e.direction,o=e.height,c=e.itemCount,l=e.itemSize,d=e.layout,u=e.width,m="horizontal"===i||"horizontal"===d?u:o,h=Math.max(0,c*l-m),p=Math.min(h,t*l),g=Math.max(0,t*l-m+l+a);switch("smart"===s&&(s=r>=g-m&&r<=p+m?"auto":"center"),s){case"start":return p;case"end":return g;case"center":var f=Math.round(g+(p-g)/2);return f<Math.ceil(m/2)?0:f>h+Math.floor(m/2)?h:f;default:return r>=g&&r<=p?r:r<g?g:p}},getStartIndexForOffset:function(e,t){var s=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(s-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,s){var r=e.direction,n=e.height,a=e.itemCount,i=e.itemSize,o=e.layout,c=e.width,l=t*i,d="horizontal"===r||"horizontal"===o?c:n,u=Math.ceil((d+s-l)/i);return Math.max(0,Math.min(a-1,t+u-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const ms=x.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ms.displayName="Card";const hs=x.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));hs.displayName="CardHeader";const ps=x.forwardRef(({className:e,...t},s)=>u.jsx("h3",{ref:s,className:Ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));ps.displayName="CardTitle";x.forwardRef(({className:e,...t},s)=>u.jsx("p",{ref:s,className:Ne("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";const gs=x.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:Ne("p-6 pt-0",e),...t}));gs.displayName="CardContent";x.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:Ne("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";const fs=j("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xs({className:e,variant:t,...s}){return u.jsx("div",{className:Ne(fs({variant:t}),e),...s})}const ys=j("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),vs=x.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...n},a)=>{const i=r?g:"button";return u.jsx(i,{className:Ne(ys({variant:t,size:s,className:e})),ref:a,...n})});vs.displayName="Button";const bs=({src:e,alt:t,width:s=800,height:r=600,className:n="",priority:a=!1,quality:i=75,placeholder:o="empty",blurDataURL:c,sizes:l,loading:d="lazy",onLoad:m,onError:h,fallbackSrc:p,enableProxy:g=!0,retryAttempts:f=2})=>{const[y,v]=x.useState("loading"),[b,w]=x.useState(""),[j,N]=x.useState(0),[A,S]=x.useState(!1),I=x.useRef(null),C=x.useRef(null),T=x.useCallback(e=>{if(!g||e.startsWith("data:"))return e;const t=[`https://images.weserv.nl/?url=${encodeURIComponent(e)}&w=${s}&h=${r}&fit=cover&q=${i}`,`https://wsrv.nl/?url=${encodeURIComponent(e)}&w=${s}&h=${r}&fit=cover&q=${i}`];return t[j%t.length]},[g,s,r,i,j]),E=x.useCallback(e=>{if(p)return p;const t=e.toLowerCase();let n="📰",a="AI推新闻";t.includes("ai")||t.includes("人工智能")||t.includes("chatgpt")?(n="🤖",a="AI资讯"):t.includes("tech")||t.includes("科技")?(n="💻",a="科技新闻"):t.includes("robot")||t.includes("机器人")?(n="🤖",a="机器人"):(t.includes("data")||t.includes("数据"))&&(n="📊",a="数据分析");const i=e.length>40?e.substring(0,37)+"...":e;return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(`\n      <svg viewBox="0 0 ${s} ${r}" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n          <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">\n            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />\n            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />\n          </linearGradient>\n          <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">\n            <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="rgba(0,0,0,0.3)"/>\n          </filter>\n        </defs>\n        \n        <rect width="${s}" height="${r}" fill="url(#bg)"/>\n        \n        \x3c!-- 装饰性图案 --\x3e\n        <circle cx="${.85*s}" cy="${.15*r}" r="40" fill="rgba(255,255,255,0.1)"/>\n        <circle cx="${.15*s}" cy="${.85*r}" r="30" fill="rgba(255,255,255,0.05)"/>\n        \n        \x3c!-- 主要内容区域 --\x3e\n        <rect x="${.05*s}" y="${.35*r}" width="${.9*s}" height="${.45*r}" \n              rx="12" fill="rgba(255,255,255,0.95)" filter="url(#shadow)"/>\n        \n        \x3c!-- 图标 --\x3e\n        <text x="${.5*s}" y="${.25*r}" text-anchor="middle" \n              font-size="36" font-family="Apple Color Emoji, Segoe UI Emoji, sans-serif">\n          ${n}\n        </text>\n        \n        \x3c!-- 标题文本 --\x3e\n        <text x="${.5*s}" y="${.5*r}" text-anchor="middle" \n              font-size="16" font-weight="600" font-family="system-ui, sans-serif" fill="#1f2937">\n          ${i}\n        </text>\n        \n        \x3c!-- 分类标签 --\x3e\n        <text x="${.5*s}" y="${.65*r}" text-anchor="middle" \n              font-size="12" font-family="system-ui, sans-serif" fill="#6b7280">\n          ${a}\n        </text>\n        \n        \x3c!-- 底部品牌 --\x3e\n        <text x="${.5*s}" y="${.9*r}" text-anchor="middle" \n              font-size="10" font-family="system-ui, sans-serif" fill="rgba(255,255,255,0.8)">\n          AI推 - 智能新闻推送\n        </text>\n      </svg>\n    `)))},[p,s,r]),k=x.useCallback(async e=>{if(e.startsWith("data:"))return e;if(g&&(j>0||A)){const t=T(e);return S(!0),t}return e},[g,j,A,T]);x.useEffect(()=>{const t=async()=>{const t=await k(e);w(t)};if(a||"eager"===d)t();else if(I.current)return C.current=new IntersectionObserver(([e])=>{e.isIntersecting&&(t(),C.current?.unobserve(e.target))},{rootMargin:"100px"}),C.current.observe(I.current),()=>{C.current?.disconnect()}},[e,a,d,k]);const O=x.useCallback(async()=>{if(j<f){let s;return N(e=>e+1),!A&&g?(s=T(e),S(!0)):s=E(t),w(s),void v("loading")}const s=E(t);w(s),v("loaded"),h?.()},[b,j,f,A,g,e,t,E,T,h]);return u.jsxs("div",{className:`relative overflow-hidden ${n}`,style:{width:s,height:r},children:["loading"===y&&"empty"!==o&&u.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse",style:"blur"===o&&c?{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(20px)",transform:"scale(1.1)"}:{}}),b&&u.jsx("img",{ref:I,src:b,alt:t,width:s,height:r,loading:a?"eager":"lazy",onLoad:()=>{v("loaded"),m?.()},onError:O,className:`\n            transition-opacity duration-300\n            ${"loaded"===y?"opacity-100":"opacity-0"}\n            object-cover w-full h-full\n          `,style:{aspectRatio:s&&r?`${s}/${r}`:void 0}}),"error"===y&&u.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center text-gray-500",children:[u.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})}),u.jsx("p",{className:"text-xs",children:"图片加载失败"})]})}),"loading"===y&&b&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})})]})},ws=()=>{const{isZh:e}=$t(),t=x.useCallback(t=>{if(!t)return e?"其他":"Other";const s={ai:{zh:"AI",en:"AI"},"ai模型":{zh:"AI",en:"AI"},"ai 模型":{zh:"AI",en:"AI"},"中国AI":{zh:"中国AI",en:"China AI"},"中国ai":{zh:"中国AI",en:"China AI"},"国内ai":{zh:"中国AI",en:"China AI"},"国内AI":{zh:"中国AI",en:"China AI"},"国际AI":{zh:"国际AI",en:"International AI"},"国际ai":{zh:"国际AI",en:"International AI"},"国外ai":{zh:"国际AI",en:"International AI"},"国外AI":{zh:"国际AI",en:"International AI"},"科技新闻":{zh:"科技新闻",en:"Tech News"},"科技":{zh:"科技新闻",en:"Tech News"},tech:{zh:"科技新闻",en:"Tech News"},"AI趣味新闻":{zh:"AI趣味新闻",en:"AI Fun News"},"ai趣味新闻":{zh:"AI趣味新闻",en:"AI Fun News"},"趣味新闻":{zh:"AI趣味新闻",en:"AI Fun News"},economy:{zh:"经济",en:"Economy"},"经济":{zh:"经济",en:"Economy"},analysis:{zh:"深度分析",en:"Analysis"},"深度分析":{zh:"深度分析",en:"Analysis"},"全部":{zh:"全部",en:"All"}},r=s[t.toLowerCase()]||s[t]||{zh:t,en:t};return e?r.zh:r.en},[e]);x.useCallback(e=>{if(!e)return e;if((e.match(/[\u4e00-\u9fa5]/g)||[]).length<.3*e.length)return e;const t=(e=>{const t=["Google","Microsoft","Apple","Amazon","Meta","Tesla","OpenAI","Nvidia","AMD","Intel","IBM","Oracle","Salesforce","Adobe","Netflix","Uber","Airbnb","PayPal","Twitter","LinkedIn","Spotify","Zoom","Shopify","Palantir","Snowflake","MongoDB","ServiceNow","BMW","Mercedes","Volkswagen","Audi","Ford","GM","Toyota","Honda","Samsung","LG","Sony","Panasonic","Huawei","Xiaomi"];for(const r of t)if(e.includes(r))return r;const s={"阿里巴巴":"Alibaba","阿里":"Alibaba","腾讯":"Tencent","百度":"Baidu","字节跳动":"ByteDance","华为":"Huawei","小米":"Xiaomi","滴滴":"Didi","美团":"Meituan","京东":"JD.com","网易":"NetEase","新浪":"Sina","搜狐":"Sohu","宝马":"BMW","奔驰":"Mercedes-Benz","大众":"Volkswagen","奥迪":"Audi","福特":"Ford","通用":"GM","丰田":"Toyota","本田":"Honda","三星":"Samsung","索尼":"Sony","松下":"Panasonic"};for(const[r,n]of Object.entries(s))if(e.includes(r))return n;return""})(e),s=(r=e).includes("模型")||r.includes("Model")||r.includes("GPT")||r.includes("ChatGPT")?"AI Model":r.includes("芯片")||r.includes("Chip")||r.includes("处理器")?"Chip":r.includes("软件")||r.includes("Software")||r.includes("系统")?"Software":r.includes("应用")||r.includes("App")||r.includes("程序")?"App":r.includes("平台")||r.includes("Platform")?"Platform":r.includes("服务")||r.includes("Service")?"Service":r.includes("投资")||r.includes("融资")||r.includes("资金")?"Investment":r.includes("合作")||r.includes("协议")||r.includes("伙伴")?"Partnership":r.includes("收购")||r.includes("并购")||r.includes("交易")?"Acquisition":r.includes("财报")||r.includes("业绩")||r.includes("收入")?"Earnings":r.includes("股价")||r.includes("股票")||r.includes("市值")?"Stock":"Product";var r;return e.includes("发布")||e.includes("推出")||e.includes("上线")?t?`${t} Launches New ${s}`:`New ${s} Launch`:e.includes("投资")||e.includes("融资")?t?`${t} Investment News`:`${s} Investment`:e.includes("合作")||e.includes("协议")?t?`${t} Partnership`:`${s} Partnership`:e.includes("收购")||e.includes("并购")?t?`${t} Acquisition`:`${s} Acquisition`:e.includes("增长")||e.includes("上涨")||e.includes("提升")?t?`${t} Growth`:`${s} Growth`:e.includes("下跌")||e.includes("下降")||e.includes("减少")?t?`${t} Decline`:`${s} Decline`:e.includes("AI")||e.includes("人工智能")||e.includes("智能")?t?`${t} AI Development`:"AI Development":e.includes("技术")||e.includes("创新")?t?`${t} Technology`:"Technology Innovation":t?`${t} News`:"Tech News Update"},[]);const s=x.useCallback(e=>e||null,[]),r=x.useCallback(e=>e&&Array.isArray(e)?e.map(e=>s(e)):[],[s]);return{getLocalizedCategory:t,getLocalizedNews:s,getLocalizedNewsArray:r}},js=class e{constructor(){n(this,"services",new Map),n(this,"requestQueue",[]),n(this,"activeRequests",new Map),n(this,"cache",new Map),n(this,"healthCheckInterval"),n(this,"AI_SERVICES",[{id:"dalle3",name:"DALL·E 3",endpoint:"/api/ai/dalle3",priority:1,maxConcurrent:3,timeout:3e4,isActive:!0,currentLoad:0,successRate:.95,avgResponseTime:15e3,lastHealthCheck:Date.now()},{id:"midjourney",name:"Midjourney",endpoint:"/api/ai/midjourney",priority:2,maxConcurrent:5,timeout:25e3,isActive:!0,currentLoad:0,successRate:.92,avgResponseTime:12e3,lastHealthCheck:Date.now()},{id:"stable-diffusion",name:"Stable Diffusion",endpoint:"/api/ai/stable-diffusion",priority:3,maxConcurrent:8,timeout:2e4,isActive:!0,currentLoad:0,successRate:.88,avgResponseTime:8e3,lastHealthCheck:Date.now()},{id:"flux",name:"Flux AI",endpoint:"/api/ai/flux",priority:4,maxConcurrent:6,timeout:15e3,isActive:!0,currentLoad:0,successRate:.9,avgResponseTime:1e4,lastHealthCheck:Date.now()},{id:"firefly",name:"Adobe Firefly",endpoint:"/api/ai/firefly",priority:5,maxConcurrent:4,timeout:18e3,isActive:!0,currentLoad:0,successRate:.85,avgResponseTime:14e3,lastHealthCheck:Date.now()}]),this.initializeServices(),this.startHealthChecks(),this.startQueueProcessor()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeServices(){this.AI_SERVICES.forEach(e=>{this.services.set(e.id,{...e})})}async generateShareImage(e){Date.now();const t=this.cache.get(e.cacheKey);if(t&&Date.now()-t.generatedAt<36e5)return t;if(this.activeRequests.has(e.cacheKey))return await this.activeRequests.get(e.cacheKey);const s=this.processImageGeneration(e);this.activeRequests.set(e.cacheKey,s);try{const t=await s;return t.success&&this.cache.set(e.cacheKey,t),t}finally{this.activeRequests.delete(e.cacheKey)}}async processImageGeneration(e){const t=this.getAvailableServices();if(0===t.length)return{success:!1,imageUrl:"",generatedAt:Date.now(),serviceId:"none",responseTime:0,quality:0,error:"没有可用的AI服务"};const s=this.selectOptimalServices(t,e.priority).map(t=>this.callAIService(t,e));try{const t=await Promise.race(s);if(t.success)return this.updateServiceMetrics(t.serviceId,!0,t.responseTime),t;const r=(await Promise.allSettled(s)).filter(e=>"fulfilled"===e.status&&e.value.success).map(e=>e.value);if(r.length>0){const e=r.sort((e,t)=>t.quality-e.quality)[0];return this.updateServiceMetrics(e.serviceId,!0,e.responseTime),e}return await this.fallbackGeneration(e)}catch(r){return await this.fallbackGeneration(e)}}selectOptimalServices(e,t){const s="urgent"===t?3:"high"===t?2:1;return e.filter(e=>e.currentLoad<e.maxConcurrent).sort((e,t)=>{const s=.4*e.successRate+1e3/e.avgResponseTime*.3+.03*(10-e.priority);return.4*t.successRate+1e3/t.avgResponseTime*.3+.03*(10-t.priority)-s}).slice(0,s)}async callAIService(e,t){const s=Date.now();e.currentLoad++;try{const r=this.buildPrompt(t),n=await this.makeAIRequest(e,r,t),a=Date.now()-s;return{success:!0,imageUrl:n.imageUrl,base64Data:n.base64Data,generatedAt:Date.now(),serviceId:e.id,responseTime:a,quality:this.assessImageQuality(n),error:void 0}}catch(r){const t=Date.now()-s;return this.updateServiceMetrics(e.id,!1,t),{success:!1,imageUrl:"",generatedAt:Date.now(),serviceId:e.id,responseTime:t,quality:0,error:r instanceof Error?r.message:"未知错误"}}finally{e.currentLoad--}}buildPrompt(e){const{newsData:t,style:s}=e;return`\n创建一个高质量的新闻分享海报：\n标题：${t.title}\n摘要：${t.summary.substring(0,100)}...\n来源：${t.source}\n类别：${t.category}\n\n设计要求：\n- ${{modern:"现代简约风格，扁平化设计，清爽配色",classic:"经典商务风格，专业配色，传统布局",minimal:"极简主义风格，大量留白，突出重点",colorful:"色彩丰富，渐变背景，活力四射"}[s]}\n- 尺寸：750x1334像素，手机分享比例\n- 包含清晰的二维码\n- 品牌标识："AI推 - 智能新闻推送"\n- 字体清晰易读，层次分明\n- 高质量输出，适合社交分享\n\n技术要求：\n- 分辨率300DPI\n- PNG格式\n- 色彩模式RGB\n- 文字抗锯齿\n    `.trim()}async makeAIRequest(e,t,s){const r=e.avgResponseTime+5e3*(Math.random()-.5);if(await new Promise(e=>setTimeout(e,r)),Math.random()>e.successRate)throw new Error(`${e.name}服务暂时不可用`);return{imageUrl:`https://generated-images.cdn.com/${s.cacheKey}-${e.id}.png`,base64Data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="}}assessImageQuality(e){let t=80;return e.base64Data&&e.base64Data.length>5e4&&(t+=10),Math.min(t,100)}async fallbackGeneration(e){try{const{posterShareService:t}=await he(async()=>{const{posterShareService:e}=await import("./posterShareService-IqPshAWn-1755842899162.js");return{posterShareService:e}},[]);return{success:!0,imageUrl:"",base64Data:await t.generateNewsPoster(e.newsData),generatedAt:Date.now(),serviceId:"fallback-canvas",responseTime:2e3,quality:70,error:void 0}}catch(t){return{success:!1,imageUrl:"",generatedAt:Date.now(),serviceId:"fallback-failed",responseTime:0,quality:0,error:"降级方案也失败了"}}}getAvailableServices(){return Array.from(this.services.values()).filter(e=>e.isActive&&e.currentLoad<e.maxConcurrent)}updateServiceMetrics(e,t,s){const r=this.services.get(e);if(!r)return;const n=.1;r.successRate=.9*r.successRate+(t?1:0)*n,t&&(r.avgResponseTime=.9*r.avgResponseTime+s*n)}startHealthChecks(){}startQueueProcessor(){setInterval(()=>{this.requestQueue.length},1e3)}getServiceStatus(){return Array.from(this.services.values()).map(e=>({id:e.id,name:e.name,isActive:e.isActive,load:e.currentLoad,successRate:e.successRate}))}destroy(){this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.cache.clear(),this.activeRequests.clear()}};n(js,"instance");const Ns=js.getInstance(),As=class e{constructor(){n(this,"mcpClients",new Map),this.initializeMCPClients()}static getInstance(){return e.instance||(e.instance=new e),e.instance}async initializeMCPClients(){try{await this.initializeDalle3Client(),await this.initializeMidjourneyClient(),await this.initializeStableDiffusionClient(),await this.initializeFluxClient(),await this.initializeFireflyClient()}catch(e){}}async initializeDalle3Client(){try{const e={name:"dalle3",generateImage:async(e,t)=>{const s={method:"generate_image",params:{prompt:e,size:t.size||"1024x1792",quality:t.quality||"hd",style:t.style||"vivid",response_format:"b64_json"},timeout:3e4};return await this.callMCPService("dalle3",s)}};this.mcpClients.set("dalle3",e)}catch(e){}}async initializeMidjourneyClient(){try{const e={name:"midjourney",generateImage:async(e,t)=>{const s={method:"imagine",params:{prompt:`${e} --ar 9:16 --v 6 --style raw --quality 2`,webhook_url:t.webhook_url,webhook_type:"result"},timeout:25e3};return await this.callMCPService("midjourney",s)}};this.mcpClients.set("midjourney",e)}catch(e){}}async initializeStableDiffusionClient(){try{const e={name:"stable-diffusion",generateImage:async(e,t)=>{const s={method:"txt2img",params:{prompt:e,negative_prompt:"blurry, low quality, distorted, watermark",width:750,height:1334,steps:20,cfg_scale:7.5,sampler_name:"DPM++ 2M Karras",scheduler:"karras",model:"sd_xl_base_1.0.safetensors"},timeout:2e4};return await this.callMCPService("stable-diffusion",s)}};this.mcpClients.set("stable-diffusion",e)}catch(e){}}async initializeFluxClient(){try{const e={name:"flux",generateImage:async(e,t)=>{const s={method:"generate",params:{prompt:e,model:"flux-dev",width:750,height:1334,num_inference_steps:28,guidance_scale:3.5,max_sequence_length:256},timeout:15e3};return await this.callMCPService("flux",s)}};this.mcpClients.set("flux",e)}catch(e){}}async initializeFireflyClient(){try{const e={name:"firefly",generateImage:async(e,t)=>{const s={method:"create_image",params:{prompt:e,contentClass:"photo",size:{width:750,height:1334},visualIntensity:6,style:{strength:20,imageReference:{source:{uploadId:t.referenceImageId}}}},timeout:18e3};return await this.callMCPService("firefly",s)}};this.mcpClients.set("firefly",e)}catch(e){}}async callMCPService(e,t){try{await new Promise(e=>setTimeout(e,2e3*Math.random()+1e3));const s={dalle3:.95,midjourney:.92,"stable-diffusion":.88,flux:.9,firefly:.85};if(Math.random()>(s[e]||.8))throw new Error(`${e}服务暂时不可用`);return{success:!0,data:{imageUrl:`https://mcp-generated.cdn.com/${e}/${Date.now()}.png`,base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==",metadata:{model:e,generatedAt:(new Date).toISOString(),prompt:t.params.prompt}}}}catch(s){return{success:!1,error:s instanceof Error?s.message:"未知错误"}}}async generateImage(e,t,s={}){const r=this.mcpClients.get(e);if(!r)return{success:!1,error:`服务${e}不可用`};try{return await r.generateImage(t,s)}catch(n){return{success:!1,error:n instanceof Error?n.message:"生成失败"}}}async getServiceHealth(e){try{return(await this.callMCPService(e,{method:"health_check",params:{},timeout:5e3})).success}catch(t){return!1}}getAvailableServices(){return Array.from(this.mcpClients.keys())}};n(As,"instance");const Ss=As.getInstance(),Is=class e{constructor(){n(this,"imageCache",new Map),n(this,"generationStats",{aiSuccess:0,canvasSuccess:0,totalRequests:0,averageTime:0}),this.initializeService()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeService(){}async generateShareImage(e,t={}){const s=Date.now();this.generationStats.totalRequests++;const r={useAI:!0,style:"modern",priority:"normal",fallbackToCanvas:!0,cacheEnabled:!0,...t};try{const t=this.generateCacheKey(e,r);if(r.cacheEnabled&&this.imageCache.has(t))return this.imageCache.get(t);let n;n=r.useAI?await this.generateWithAI(e,r,t):await this.generateWithCanvas(e),r.cacheEnabled&&n&&this.imageCache.set(t,n);const a=Date.now()-s;return this.updateStats(r.useAI&&""!==n,a),n}catch(n){if(r.fallbackToCanvas)try{const t=await this.generateWithCanvas(e);return this.updateStats(!1,Date.now()-s),t}catch(a){}throw n}}async generateWithAI(e,t,s){try{const r={newsData:e,style:t.style,priority:t.priority,cacheKey:s},n=await Ns.generateShareImage(r);if(n.success)return this.generationStats.aiSuccess++,n.base64Data||n.imageUrl;throw new Error(`AI生成失败: ${n.error}`)}catch(r){if(t.fallbackToCanvas)return await this.generateWithCanvas(e);throw r}}async generateWithCanvas(e){try{const{posterShareService:t}=await he(async()=>{const{posterShareService:e}=await import("./posterShareService-IqPshAWn-1755842899162.js");return{posterShareService:e}},[]),s=await t.generateNewsPoster(e);return this.generationStats.canvasSuccess++,s}catch(t){throw t}}async preGenerateImages(e){const t=e.slice(0,10).map(e=>this.generateShareImage(e,{priority:"low",style:"modern",cacheEnabled:!0}).catch(e=>null));(await Promise.allSettled(t)).filter(e=>"fulfilled"===e.status&&e.value).length}generateCacheKey(e,t){const s=`${e.id}-${t.style}-${t.useAI?"ai":"canvas"}`;return btoa(s).replace(/[/+=]/g,"")}updateStats(e,t){e?this.generationStats.aiSuccess++:this.generationStats.canvasSuccess++;this.generationStats.averageTime=.9*this.generationStats.averageTime+.1*t}getServiceStatus(){const e=Ns.getServiceStatus(),t=Ss.getAvailableServices();return{ai:{services:e,stats:this.generationStats},mcp:{availableServices:t,totalServices:t.length},cache:{size:this.imageCache.size,maxSize:1e3},performance:{totalRequests:this.generationStats.totalRequests,averageTime:Math.round(this.generationStats.averageTime),aiSuccessRate:this.generationStats.totalRequests>0?(this.generationStats.aiSuccess/this.generationStats.totalRequests*100).toFixed(1)+"%":"0%"}}}clearCache(){this.imageCache.clear()}setCacheLimit(e){if(this.imageCache.size>e){const t=Array.from(this.imageCache.entries());t.slice(0,t.length-e).forEach(([e])=>this.imageCache.delete(e))}}getOptimalStyle(e){const t=e.category.toLowerCase();return t.includes("科技")||t.includes("ai")?"modern":t.includes("商业")||t.includes("经济")?"classic":t.includes("设计")||t.includes("艺术")?"minimal":"colorful"}getGenerationRecommendation(e){const t=(new Date).getHours(),s=t>=9&&t<=18;return{useAI:!0,style:this.getOptimalStyle(e),priority:s?"normal":"low",fallbackToCanvas:!0,cacheEnabled:!0}}};n(Is,"instance");const Cs=Is.getInstance(),Ts=class e{constructor(){n(this,"generationQueue",[]),n(this,"isProcessing",!1),n(this,"maxConcurrent",2),n(this,"currentlyGenerating",new Set),n(this,"intersectionObserver",null),n(this,"visibilityThreshold",.1),n(this,"preGenerationDelay",2e3),this.initializeIntersectionObserver(),this.startQueueProcessor()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeIntersectionObserver(){"undefined"!=typeof window&&"IntersectionObserver"in window&&(this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,s=this.extractNewsDataFromElement(t);s&&setTimeout(()=>{this.isElementStillVisible(t)&&this.schedulePreGeneration(s)},this.preGenerationDelay)}})},{threshold:this.visibilityThreshold,rootMargin:"50px"}))}observeNewsElement(e,t){this.intersectionObserver&&(e.setAttribute("data-news-id",t.id),e.setAttribute("data-news-data",JSON.stringify(t)),this.intersectionObserver.observe(e))}unobserveNewsElement(e){this.intersectionObserver&&this.intersectionObserver.unobserve(e)}extractNewsDataFromElement(e){try{const t=e.getAttribute("data-news-data");return t?JSON.parse(t):null}catch(t){return null}}isElementStillVisible(e){const t=e.getBoundingClientRect(),s=0,r=0,n=window.innerHeight,a=window.innerWidth;return t.bottom>=s&&t.top<=n&&t.right>=r&&t.left<=a}schedulePreGeneration(e){if(this.currentlyGenerating.has(e.id)||this.generationQueue.some(t=>t.newsId===e.id))return;const t=this.calculatePriority(e),s={newsId:e.id,priority:t,startTime:Date.now(),status:"pending",retryCount:0};this.insertJobByPriority(s)}calculatePriority(e){let t=50;const s=(Date.now()-new Date(e.publishedAt).getTime())/36e5;s<1?t+=30:s<6?t+=20:s<24&&(t+=10);["国际AI","科技","商业"].some(t=>e.category.includes(t))&&(t+=20);return["TechCrunch","The Verge","Wired"].some(t=>e.source.includes(t))&&(t+=15),t}insertJobByPriority(e){let t=this.generationQueue.length;for(let s=0;s<this.generationQueue.length;s++)if(this.generationQueue[s].priority<e.priority){t=s;break}this.generationQueue.splice(t,0,e),this.generationQueue.length>20&&(this.generationQueue=this.generationQueue.slice(0,20))}startQueueProcessor(){setInterval(async()=>{!this.isProcessing&&this.generationQueue.length>0&&await this.processQueue()},1e3)}async processQueue(){if(!this.isProcessing){this.isProcessing=!0;try{const e=this.generationQueue.filter(e=>"pending"===e.status).slice(0,this.maxConcurrent);if(0===e.length)return void(this.isProcessing=!1);const t=e.map(async e=>{e.status="generating",this.currentlyGenerating.add(e.newsId);try{const t=await this.getNewsData(e.newsId);if(!t)throw new Error("News data not found");await Cs.generateShareImage(t,{useAI:!0,priority:"low",style:Cs.getOptimalStyle(t),cacheEnabled:!0,fallbackToCanvas:!0}),e.status="completed"}catch(t){e.retryCount++,e.retryCount>=2?e.status="failed":e.status="pending"}finally{this.currentlyGenerating.delete(e.newsId)}});await Promise.allSettled(t),this.generationQueue=this.generationQueue.filter(e=>"completed"!==e.status&&"failed"!==e.status)}finally{this.isProcessing=!1}}}async getNewsData(e){try{const t=document.querySelectorAll(`[data-news-id="${e}"]`);return t.length>0?this.extractNewsDataFromElement(t[0]):null}catch(t){return null}}async preGenerateHotNews(e){e.forEach(e=>{this.schedulePreGeneration(e)})}getStats(){return{queueLength:this.generationQueue.length,currentlyGenerating:this.currentlyGenerating.size,completedToday:0,failedToday:0}}destroy(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.generationQueue=[],this.currentlyGenerating.clear()}};n(Ts,"instance");const Es=Ts.getInstance(),ks=({id:e,title:t,summary:s,imageUrl:r,source:n,publishedAt:a,category:i})=>{const{getLocalizedCategory:o}=ws(),c=x.useRef(null);x.useEffect(()=>{if(c.current){const o={id:e,title:t,summary:s,imageUrl:r,publishedAt:a,source:n,category:i};return Es.observeNewsElement(c.current,o),()=>{c.current&&Es.unobserveNewsElement(c.current)}}},[e,t,s,r,a,n,i]);const l=t,d=s,m=(e,t)=>{const s=document.createElement("div");s.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n      z-index: 9999;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;\n    ";const r=document.createElement("div");r.style.cssText="\n      background: white;\n      border-radius: 12px;\n      padding: 24px;\n      margin: 20px;\n      max-width: 320px;\n      text-align: center;\n      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n      position: relative;\n    ";const n=document.createElement("div");n.style.cssText="\n      position: absolute;\n      top: -40px;\n      right: 20px;\n      width: 0;\n      height: 0;\n      border-left: 20px solid transparent;\n      border-right: 20px solid transparent;\n      border-bottom: 40px solid #007AFF;\n      animation: bounce 1s infinite;\n    ";const a=document.createElement("style");a.textContent="\n      @keyframes bounce {\n        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }\n        40% { transform: translateY(-10px); }\n        60% { transform: translateY(-5px); }\n      }\n    ",document.head.appendChild(a),r.innerHTML='\n      <div style="color: #007AFF; font-size: 24px; margin-bottom: 16px;">📤</div>\n      <h3 style="margin: 0 0 16px 0; color: #333; font-size: 18px; font-weight: 600;">\n        分享到微信\n      </h3>\n      <p style="margin: 0 0 20px 0; color: #666; font-size: 14px; line-height: 1.5;">\n        请点击微信右上角的 <strong>"···"</strong> 菜单按钮<br>\n        选择 <strong>"分享给朋友"</strong> 或 <strong>"分享到朋友圈"</strong>\n      </p>\n      <div style="display: flex; gap: 12px; margin-top: 20px;">\n        <button id="wechat-copy-link" style="\n          flex: 1;\n          background: #f0f0f0;\n          border: none;\n          padding: 12px;\n          border-radius: 8px;\n          font-size: 14px;\n          color: #333;\n          cursor: pointer;\n        ">复制链接</button>\n        <button id="wechat-close-guide" style="\n          flex: 1;\n          background: #007AFF;\n          border: none;\n          padding: 12px;\n          border-radius: 8px;\n          font-size: 14px;\n          color: white;\n          cursor: pointer;\n        ">知道了</button>\n      </div>\n    ',r.appendChild(n),s.appendChild(r),document.body.appendChild(s);const i=r.querySelector("#wechat-copy-link"),o=r.querySelector("#wechat-close-guide");i?.addEventListener("click",()=>{if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{i.textContent="已复制!",setTimeout(()=>{document.body.removeChild(s),document.head.removeChild(a)},1e3)});else{const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),i.textContent="已复制!",setTimeout(()=>{document.body.removeChild(s),document.head.removeChild(a)},1e3)}}),o?.addEventListener("click",()=>{document.body.removeChild(s),document.head.removeChild(a)}),s.addEventListener("click",e=>{e.target===s&&(document.body.removeChild(s),document.head.removeChild(a))})};return u.jsx(X,{to:`/news/${e}`,className:"block",children:u.jsxs(ms,{ref:c,className:"cursor-pointer overflow-hidden bg-gradient-card border border-border/50 shadow-soft hover:shadow-medium transition-all duration-300 transform hover:-translate-y-1 group",children:[u.jsx(hs,{className:"p-0",children:u.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[u.jsx(bs,{src:r,alt:l,width:800,height:192,className:"w-full h-48 transition-transform duration-300 group-hover:scale-105",loading:"lazy",onError:()=>{}}),u.jsx("div",{className:"absolute top-3 left-3",children:u.jsx(xs,{className:(e=>{const t=e.toLowerCase();return t.includes("ai")||t.includes("ai模型")||t.includes("ai 模型")?"bg-gradient-ai text-white border-0":t.includes("tech")||t.includes("科技")?"bg-gradient-tech text-white border-0":t.includes("economy")||t.includes("经济")?"bg-gradient-economy text-white border-0":t.includes("analysis")||t.includes("深度分析")?"bg-gradient-analysis text-white border-0":"bg-gradient-primary text-white border-0"})(i),children:o(i)})}),u.jsx("div",{className:"absolute top-3 right-3",children:u.jsx(vs,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white text-gray-700 hover:text-gray-900 opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:t=>{t.stopPropagation(),t.preventDefault();const s=Mt(e),r=`${l} - 来自AI推`;if(/micromessenger/i.test(navigator.userAgent))m(s);else if(navigator.share)navigator.share({title:r,text:d.substring(0,100)+"...",url:s}).catch(console.error);else if(navigator.clipboard)navigator.clipboard.writeText(s).then(()=>{alert("链接已复制到剪贴板！")});else{const e=encodeURIComponent(r),t=encodeURIComponent(s),n=[{name:"微博",url:`https://service.weibo.com/share/share.php?url=${t}&title=${e}`},{name:"QQ",url:`https://connect.qq.com/widget/shareqq/index.html?url=${t}&title=${e}`},{name:"Twitter",url:`https://twitter.com/intent/tweet?text=${e}&url=${t}`}];if(confirm("选择分享方式：\n确定 - 复制链接\n取消 - 打开微博分享")){const e=document.createElement("input");e.value=s,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("链接已复制到剪贴板！")}else window.open(n[0].url,"_blank","width=600,height=400")}},children:u.jsx(O,{className:"w-4 h-4"})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),u.jsxs(gs,{className:"p-4 space-y-3",children:[u.jsx("h3",{className:"font-semibold text-lg leading-tight text-foreground line-clamp-2 group-hover:text-primary transition-colors duration-200",children:l}),u.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed line-clamp-4",children:d}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[u.jsx(R,{className:"w-3 h-3"}),u.jsx("span",{className:"font-medium",children:n})]}),u.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[u.jsx(_,{className:"w-3 h-3"}),u.jsx("span",{children:(e=>{try{const t=new Date(e),s=new Date;if(isNaN(t.getTime()))return"时间未知";const r=s.getTime()-t.getTime(),n=Math.abs(r);if(n<6e4)return"刚刚发布";const a=r<0?n:r,i=Math.floor(a/6e4),o=Math.floor(a/36e5),c=Math.floor(a/864e5);return i<60?`${i}分钟前`:o<24?`${o}小时前`:`${c}天前`}catch(t){return"时间未知"}})(a)})]})]})]})]})})},Os=v.memo(({index:e,style:t,data:s})=>{const{news:r,columns:n,itemHeight:a}=s,i=e*n,o=r.slice(i,i+n);return u.jsx("div",{style:t,children:u.jsx("div",{className:"grid gap-6 px-4",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,height:a},children:o.map(e=>u.jsx("div",{className:"animate-fade-in",children:u.jsx(ks,{...e})},e.id))})})});Os.displayName="NewsRow";const Rs=({news:e,className:t="",itemHeight:s=400,containerHeight:r=600,columns:n=3})=>{const a=x.useRef(null),i=x.useMemo(()=>Math.ceil(e.length/n),[e.length,n]),o=x.useMemo(()=>{if("undefined"==typeof window)return n;const e=window.innerWidth;return e<768?1:e<1024?2:n},[n]),c=x.useMemo(()=>({news:e,columns:o,itemHeight:s}),[e,o,s]);return x.useCallback(()=>{a.current?.scrollToItem(0,"start")},[]),v.useEffect(()=>{const e=()=>{a.current&&a.current.resetAfterIndex(0)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e.length<=3*o?u.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ${t}`,children:e.map((e,t)=>u.jsx("div",{className:"animate-fade-in",style:{animationDelay:100*t+"ms"},children:u.jsx(ks,{...e})},e.id))}):u.jsx("div",{className:t,children:u.jsx(us,{ref:a,height:r,itemCount:i,itemSize:s+24,itemData:c,overscanCount:2,className:"news-virtual-list",children:Os})})};if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="\n  .news-virtual-list {\n    /* 自定义滚动条样式 */\n    scrollbar-width: thin;\n    scrollbar-color: #cbd5e0 #f7fafc;\n  }\n\n  .news-virtual-list::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  .news-virtual-list::-webkit-scrollbar-track {\n    background: #f7fafc;\n    border-radius: 4px;\n  }\n\n  .news-virtual-list::-webkit-scrollbar-thumb {\n    background: #cbd5e0;\n    border-radius: 4px;\n  }\n\n  .news-virtual-list::-webkit-scrollbar-thumb:hover {\n    background: #a0aec0;\n  }\n\n  /* 优化渲染性能 */\n  .news-virtual-list * {\n    transform: translateZ(0);\n    will-change: transform;\n  }\n",document.head.appendChild(e)}const _s=({isOpen:e,onClose:t,onMenuClick:s})=>{const{isZh:r}=$t(),n=Y(),a=[{id:"home",icon:P,label:r?"首页":"Home",description:r?"返回新闻主页":"Back to news home",path:"/",isExternal:!1},{id:"blog",icon:$,label:r?"AI博客":"AI Blog",description:r?"深度AI技术解读":"In-depth AI analysis",path:"/blog",isExternal:!1},{id:"about",icon:D,label:r?"关于我们":"About Us",description:r?"了解AI推团队":"Learn about AI Push",path:"/about",isExternal:!1},{id:"services",icon:L,label:r?"服务介绍":"Services",description:r?"我们提供的服务":"Services we provide",path:"/services",isExternal:!1},{id:"contact",icon:M,label:r?"联系我们":"Contact Us",description:r?"获取帮助和支持":"Get help and support",path:"/contact",isExternal:!1}],i=[{id:"daily-briefing",icon:U,label:r?"AI专题简报":"AI Topic Briefing",description:r?"实时AI新闻精选":"Real-time AI News Selection",isExternal:!0},{id:"disclaimer",icon:q,label:r?"免责声明":"Disclaimer",description:r?"网站使用条款":"Website Terms",isExternal:!0}],o=e=>{e.isExternal?s(e.id):(n(e.path),t())};return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:t}),u.jsxs("div",{className:`\n        fixed top-0 left-0 h-full w-80 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out\n        ${e?"translate-x-0":"-translate-x-full"}\n      `,children:[u.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-hero text-white",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(C,{className:"w-5 h-5"}),u.jsx("h2",{className:"text-lg font-semibold",children:r?"菜单":"Menu"})]}),u.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(N,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2 mb-3",children:r?"网站导航":"Navigation"}),a.map(e=>{const t=e.icon;return u.jsxs("button",{onClick:()=>o(e),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors text-left group",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(t,{className:"w-5 h-5 text-gray-600 group-hover:text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:e.label}),u.jsx("div",{className:"text-sm text-gray-500",children:e.description})]})]},e.id)})]}),u.jsx("div",{className:"border-t border-gray-200"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide px-2 mb-3",children:r?"功能菜单":"Features"}),i.map(e=>{const t=e.icon;return u.jsxs("button",{onClick:()=>o(e),className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors text-left group",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(t,{className:"w-5 h-5 text-gray-600 group-hover:text-blue-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-600",children:e.label}),u.jsx("div",{className:"text-sm text-gray-500",children:e.description})]}),u.jsx(R,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600"})]},e.id)})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[u.jsx(z,{className:"w-4 h-4"}),u.jsx("span",{children:r?"有问题请联系我们":"Contact us for questions"})]})})]})]})},zs=({isOpen:e,onClose:t})=>{const{isZh:s}=$t(),{getLocalizedNewsArray:r}=ws(),[n,a]=x.useState([]),[i,o]=x.useState(!0),c=(new Date).toLocaleDateString(s?"zh-CN":"en-US",{year:"numeric",month:"long",day:"numeric"});x.useEffect(()=>{e&&l()},[e]);const l=async()=>{o(!0);try{const e=await fetch("/news-data.json?"+Date.now()),t=await e.json();if(t.success&&t.data){const e=t.data.filter(e=>{const t=(e.title||"").toLowerCase(),s=((e.category||"").toLowerCase(),(e.summary||"").toLowerCase()),r=(e.content||"").toLowerCase();if(["cryptocurrency","bitcoin","blockchain","加密货币","比特币","cybersecurity","网络攻击","data breach","数据泄露","quantum computing","量子计算","startup funding","创业融资"].some(e=>t.includes(e)||s.includes(e)))return!1;let n=0;return["ai","artificial intelligence","人工智能","machine learning","机器学习","deep learning","深度学习","neural network","神经网络","chatgpt","gpt","openai","anthropic","claude","llm","large language model","大语言模型","generative ai","生成式ai","transformer","diffusion model","stable diffusion","midjourney","dall-e","computer vision","计算机视觉","nlp","natural language","自然语言处理","conversational ai","对话式ai","prompt engineering","提示工程"].forEach(e=>{t.includes(e)&&(n+=3),s.includes(e)&&(n+=2),r.includes(e)&&(n+=1)}),["openai","anthropic","deepmind","hugging face","nvidia ai","google deepmind","microsoft ai","meta ai","apple intelligence","amazon ai","transformer architecture","attention mechanism","注意力机制","reinforcement learning","强化学习","supervised learning","监督学习","unsupervised learning","无监督学习","foundation model","基础模型","multimodal ai","多模态ai","autonomous system","自主系统"].forEach(e=>{t.includes(e)&&(n+=2),s.includes(e)&&(n+=1)}),n>=3}).slice(0,10),n=r(e).map((e,t)=>({id:e.id||`briefing_${t}`,description:e.title||(e.aiInsight?e.aiInsight.length>80?e.aiInsight.substring(0,80)+"...":e.aiInsight:e.summary?e.summary.length>80?e.summary.substring(0,80)+"...":e.summary:s?"暂无描述":"No description"),category:e.category||"AI",importance:t<3?"high":t<7?"medium":"low",timestamp:e.publishedAt||(new Date).toISOString()}));a(n)}}catch(e){}finally{o(!1)}},d=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=e=>{switch(e){case"high":return s?"重要":"High";case"medium":return s?"一般":"Medium";case"low":return s?"关注":"Low";default:return""}};return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-hero text-white p-6 relative",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(N,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx(T,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-2xl font-bold",children:s?"AI 专题简报":"AI Topic Briefing"})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm opacity-90",children:[u.jsx(H,{className:"w-4 h-4"}),u.jsx("span",{children:c}),u.jsx(_,{className:"w-4 h-4 ml-4"}),u.jsx("span",{children:s?"实时AI新闻":"Real-time AI News"})]})]}),u.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[u.jsx(W,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:s?"正在生成AI专题晨报...":"Generating AI briefing..."})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:u.jsx("p",{className:"text-sm text-blue-800",children:s?"本AI专题简报精选10条纯人工智能领域重要新闻，基于站内实时新闻数据智能筛选，确保内容与AI技术、应用和发展直接相关。":"This AI topic briefing features 10 selected important news purely from the artificial intelligence field, using intelligent algorithms to filter real-time news data, ensuring content is directly related to AI technology, applications, and development."})}),n.map((e,t)=>u.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsxs("span",{className:"text-lg font-bold text-gray-400 flex-shrink-0",children:["#",t+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${d(e.importance)}`,children:m(e.importance)}),u.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.category})]}),u.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.description}),u.jsx("div",{className:"flex items-center justify-between text-xs text-gray-400 mt-2",children:u.jsx("span",{children:new Date(e.timestamp).toLocaleTimeString()})})]})]})},e.id))]})}),u.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:u.jsx("div",{className:"text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:s?"AI专题简报基于站内实时新闻数据生成，持续关注人工智能领域最新动态":"AI topic briefing is generated based on real-time news data, continuously tracking the latest developments in artificial intelligence"})})})]})}):null},Ps=({isOpen:e,onClose:t})=>{const{isZh:s}=$t(),r=[{icon:F,title:s?"内容来源声明":"Content Source Declaration",content:s?"本网站所有新闻内容均来源于权威新闻网站的公开API接口，包括但不限于Reuters、Bloomberg、TechCrunch、The Verge等国际知名媒体。我们仅作为信息中转和聚合平台，不对原始内容进行任何修改或编辑。":"All news content on this website is sourced from authoritative news websites through public API interfaces, including but not limited to Reuters, Bloomberg, TechCrunch, The Verge and other internationally renowned media. We serve only as an information relay and aggregation platform without any modification or editing of original content."},{icon:B,title:s?"AI翻译免责":"AI Translation Disclaimer",content:s?"本网站使用AI技术对英文新闻进行中文翻译，AI翻译可能存在理解偏差、语境错误或专业术语翻译不准确的情况。翻译内容仅供参考，重要信息请以原文为准。我们建议用户在做出重要决策前，务必查阅原始英文报道。":"This website uses AI technology to translate English news into Chinese. AI translation may have understanding deviations, contextual errors, or inaccurate professional terminology translation. Translated content is for reference only, and important information should be based on the original text. We recommend users to consult the original English reports before making important decisions."},{icon:q,title:s?"内容准确性声明":"Content Accuracy Statement",content:s?"虽然我们努力确保信息的及时性和准确性，但由于网络传输、API接口延迟、第三方数据源更新等技术因素，内容可能存在延迟或错误。本网站不保证所提供信息的完整性、准确性、可靠性或时效性。":"While we strive to ensure the timeliness and accuracy of information, content may be delayed or contain errors due to technical factors such as network transmission, API interface delays, and third-party data source updates. This website does not guarantee the completeness, accuracy, reliability, or timeliness of the information provided."},{icon:R,title:s?"第三方链接责任":"Third-party Link Responsibility",content:s?"本网站包含指向第三方网站的链接，这些链接仅为用户提供便利。我们对这些外部网站的内容、隐私政策、服务条款或其他做法不承担任何责任。用户访问第三方网站时，应自行了解并遵守该网站的相关条款。":"This website contains links to third-party websites, which are provided solely for user convenience. We assume no responsibility for the content, privacy policies, terms of service, or other practices of these external websites. Users should understand and comply with the relevant terms of those websites when accessing third-party sites."}];return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-gray-700 to-gray-900 text-white p-6 relative",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:u.jsx(N,{className:"w-5 h-5"})}),u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx(F,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-2xl font-bold",children:s?"免责声明":"Disclaimer"})]}),u.jsx("p",{className:"text-sm opacity-90",children:s?"使用本网站前，请仔细阅读以下声明":"Please read the following disclaimer carefully before using this website"})]}),u.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[u.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(B,{className:"w-5 h-5 text-yellow-600"}),u.jsx("h3",{className:"font-semibold text-yellow-800",children:s?"重要提示":"Important Notice"})]}),u.jsx("p",{className:"text-sm text-yellow-700",children:s?"本网站提供的所有信息仅供参考和教育目的，不构成任何形式的投资建议、法律建议或其他专业建议。用户在使用本网站信息时应谨慎行事，并承担相应风险。":"All information provided on this website is for reference and educational purposes only and does not constitute any form of investment advice, legal advice, or other professional advice. Users should exercise caution when using information from this website and bear corresponding risks."})]}),u.jsx("div",{className:"space-y-6",children:r.map((e,t)=>{const s=e.icon;return u.jsxs("div",{className:"border border-gray-200 rounded-lg p-5",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx("div",{className:"flex-shrink-0 p-2 bg-blue-100 rounded-lg",children:u.jsx(s,{className:"w-5 h-5 text-blue-600"})}),u.jsx("h3",{className:"font-semibold text-gray-900",children:e.title})]}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed ml-11",children:e.content})]},t)})}),u.jsxs("div",{className:"mt-8 bg-gray-50 border border-gray-200 rounded-lg p-5",children:[u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s?"联系我们":"Contact Us"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s?"如果您对本免责声明有任何疑问，或者发现内容错误需要纠正，请通过以下方式联系我们：":"If you have any questions about this disclaimer or find content errors that need correction, please contact us through:"}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[u.jsx(R,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-blue-600",children:s?"微信：forxy9":"WeChat: forxy9"})]})]}),u.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:u.jsxs("p",{className:"text-xs text-gray-500",children:[s?"最后更新时间：":"Last updated: ",(new Date).toLocaleDateString(s?"zh-CN":"en-US")]})})]}),u.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:u.jsx("div",{className:"flex justify-end space-x-3",children:u.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:s?"我已阅读并理解":"I have read and understand"})})})]})}):null},$s=({isOpen:e,onClose:t})=>{const{isZh:s}=$t(),[r,n]=x.useState(""),[a,i]=x.useState(!1),[o,c]=x.useState("idle"),[l,d]=x.useState("");return e?u.jsx(u.Fragment,{children:u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(M,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"订阅AI新闻":"Subscribe to AI News"}),u.jsx("p",{className:"text-sm text-gray-500",children:s?"获取最新AI资讯推送":"Get latest AI news updates"})]})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(N,{className:"w-5 h-5 text-gray-400"})})]}),u.jsx("div",{className:"p-6",children:"success"===o?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(G,{className:"w-8 h-8 text-green-600"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s?"订阅成功！":"Subscription Successful!"}),u.jsx("p",{className:"text-gray-500 mb-4",children:s?"感谢您的订阅，我们会将最新AI新闻发送到您的邮箱。":"Thank you for subscribing! We will send the latest AI news to your email."}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"关闭":"Close"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return d(s?"请输入有效的邮箱地址":"Please enter a valid email address"),void c("error");i(!0),c("idle"),d("");try{const e=void 0,a=void 0;if(!e||!a)throw new Error("Brevo MCP configuration missing");const i=await fetch("https://api.brevo.com/v3/contacts",{method:"POST",headers:{"api-key":e,"Content-Type":"application/json","X-MCP-Protocol":"v1","X-Application":"AI-News-Website"},body:JSON.stringify({email:r,listIds:[parseInt(a)],updateEnabled:!0,attributes:{FNAME:"",LNAME:"",SOURCE:"AI-News-Website",SUBSCRIBE_DATE:(new Date).toISOString()}})});if(i.ok)c("success"),n(""),setTimeout(()=>{t(),c("idle")},3e3);else{"duplicate_parameter"===(await i.json()).code?d(s?"该邮箱已经订阅过了":"This email is already subscribed"):d(s?"订阅失败，请稍后再试":"Subscription failed, please try again later"),c("error")}}catch(a){c("error"),d(s?"网络错误，请稍后再试":"Network error, please try again later")}finally{i(!1)}},className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:s?"邮箱地址":"Email Address"}),u.jsx("input",{type:"email",id:"email",value:r,onChange:e=>n(e.target.value),placeholder:s?"请输入您的邮箱地址":"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),"error"===o&&u.jsxs("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[u.jsx(V,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:l})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:a?u.jsxs(u.Fragment,{children:[u.jsx(W,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:s?"订阅中...":"Subscribing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(M,{className:"w-5 h-5"}),u.jsx("span",{children:s?"立即订阅":"Subscribe Now"})]})})]}),u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:s?"或者使用RSS阅读器订阅":"Or subscribe with RSS reader"}),u.jsxs("button",{onClick:()=>{window.open("/rss.xml","_blank")},className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24h-4.801zM3.291 17.415c1.814 0 3.293 1.479 3.293 3.295 0 1.813-1.479 3.29-3.293 3.29-1.814 0-3.292-1.477-3.292-3.29 0-1.816 1.478-3.295 3.292-3.295zM12.906 24c0-6.627-5.373-12-12-12v-2.4c8.159 0 14.4 6.242 14.4 14.4h-2.4z"})}),u.jsx("span",{children:s?"RSS订阅":"RSS Feed"})]})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s?"订阅须知":"Subscription Information"}),u.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[u.jsxs("li",{children:["• ",s?"每日推送最新AI新闻":"Daily latest AI news updates"]}),u.jsxs("li",{children:["• ",s?"可以随时取消订阅":"Unsubscribe anytime"]}),u.jsxs("li",{children:["• ",s?"不会发送垃圾邮件":"No spam emails"]}),u.jsxs("li",{children:["• ",s?"保护您的隐私":"Protect your privacy"]})]})]})]})})]})})}):null},Ds=({children:e,enablePullToRefresh:t=!1,preventOverscroll:s=!0,preventScrollReset:r=!1,onPullToRefresh:n})=>{const a=x.useRef(null),i=x.useRef(0),o=x.useRef(!1),c=x.useRef(0),l=x.useRef(!1);return x.useEffect(()=>{const e=a.current;if(!e)return;let r;const d=e=>{i.current=e.touches[0].clientY,o.current=!1},u=e=>{if(!e.touches.length)return;const n=e.touches[0].clientY-i.current,a=window.scrollY,d=document.documentElement.scrollHeight,u=window.innerHeight;if(o.current=!0,s){if(a<=0&&n>0)if(t){c.current=Math.min(n,150),l.current=!0;let t=document.getElementById("pull-to-refresh-indicator");t||(t=document.createElement("div"),t.id="pull-to-refresh-indicator",t.style.cssText="\n                position: fixed;\n                top: 0;\n                left: 50%;\n                transform: translateX(-50%);\n                background: rgba(0, 0, 0, 0.8);\n                color: white;\n                padding: 8px 16px;\n                border-radius: 0 0 8px 8px;\n                font-size: 14px;\n                z-index: 1000;\n                transition: all 0.3s ease;\n                opacity: 0;\n                pointer-events: none;\n              ",document.body.appendChild(t));const s=Math.min(c.current/80,1);t.style.opacity=s.toString(),t.textContent=s>=1?"松开刷新":"下拉刷新",c.current<150&&e.preventDefault()}else e.preventDefault();a+u>=d&&n<0&&e.preventDefault()}r&&cancelAnimationFrame(r),r=requestAnimationFrame(()=>{})},m=()=>{if(l.current&&t){const e=document.getElementById("pull-to-refresh-indicator");c.current>=80&&n?(n(),e&&(e.textContent="正在刷新...",setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.remove()},300)},1e3))):e&&(e.style.opacity="0",setTimeout(()=>{e.remove()},300))}c.current=0,l.current=!1,setTimeout(()=>{o.current=!1},100)},h=e=>{o.current};return e.addEventListener("touchstart",d,{passive:!0}),e.addEventListener("touchmove",u,{passive:!1}),e.addEventListener("touchend",m,{passive:!0}),window.addEventListener("scroll",h,{passive:!0}),()=>{e.removeEventListener("touchstart",d),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",m),window.removeEventListener("scroll",h),r&&cancelAnimationFrame(r)}},[t,s]),u.jsx("div",{ref:a,className:"mobile-touch-optimizer",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y",overscrollBehavior:s?"contain":"auto",transform:"translateZ(0)",willChange:"scroll-position"},children:e})},Ls=({onMetrics:e})=>{const t=x.useRef({});return x.useEffect(()=>{const s=setTimeout(()=>{(()=>{try{new PerformanceObserver(s=>{const r=s.getEntries();for(const n of r)"first-contentful-paint"===n.name&&(t.current.fcp=n.startTime,e?.(t.current))}).observe({entryTypes:["paint"]})}catch(s){}})(),(()=>{try{new PerformanceObserver(s=>{const r=s.getEntries(),n=r[r.length-1];t.current.lcp=n.startTime,e?.(t.current)}).observe({entryTypes:["largest-contentful-paint"]})}catch(s){}})(),(()=>{try{new PerformanceObserver(s=>{const r=s.getEntries();for(const n of r)t.current.fid=n.processingStart-n.startTime,e?.(t.current)}).observe({entryTypes:["first-input"]})}catch(s){}})(),(()=>{try{let s=0;new PerformanceObserver(r=>{const n=r.getEntries();for(const e of n)e.hadRecentInput||(s+=e.value);t.current.cls=s,e?.(t.current)}).observe({entryTypes:["layout-shift"]})}catch(s){}})(),(()=>{try{const s=performance.getEntriesByType("navigation");if(s.length>0){const r=s[0].responseStart-s[0].requestStart;t.current.ttfb=r,e?.(t.current)}}catch(s){}})()},1e3);return()=>{clearTimeout(s)}},[e]),x.useEffect(()=>{const e=setInterval(()=>{if("memory"in performance){const e=performance.memory;e.usedJSHeapSize,e.totalJSHeapSize}},3e4);return()=>{clearInterval(e)}},[]),x.useEffect(()=>{const e=()=>{},t=()=>{};return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),null},Ms=({onMenuClick:e,currentPath:t="/"})=>{const{isZh:s}=$t(),[r,n]=x.useState(!0),[a,i]=x.useState(0),o=x.useRef();x.useEffect(()=>{let e=!1;const t=()=>{e||(requestAnimationFrame(()=>{(()=>{const e=window.scrollY;if(o.current&&clearTimeout(o.current),e<100)return n(!0),void i(e);e>a&&e>200?n(!1):e<a&&n(!0),o.current=setTimeout(()=>{n(!0)},2e3),i(e)})(),e=!1}),e=!0)};return window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("scroll",t),o.current&&clearTimeout(o.current)}},[a]);const c=[{id:"home",icon:P,label:s?"首页":"Home",path:"/",active:"/"===t},{id:"search",icon:Q,label:s?"搜索":"Search",path:"/search",active:t.startsWith("/search")},{id:"bookmarks",icon:J,label:s?"收藏":"Saved",path:"/bookmarks",active:t.startsWith("/bookmarks")},{id:"menu",icon:C,label:s?"菜单":"Menu",path:"/menu",active:!1,onClick:e}];return u.jsxs(u.Fragment,{children:[u.jsx("nav",{className:`\n          fixed bottom-0 left-0 right-0 z-50\n          bg-background/95 backdrop-blur-md border-t border-border\n          transition-transform duration-300 ease-in-out\n          ${r?"translate-y-0":"translate-y-full"}\n          md:hidden\n        `,style:{paddingBottom:"env(safe-area-inset-bottom)",background:"rgba(255, 255, 255, 0.95)",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.1)"},children:u.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:c.map(e=>{const s=e.icon;return u.jsxs("button",{onClick:e.onClick||(()=>{e.path!==t&&(window.location.href=e.path)}),className:`\n                  flex flex-col items-center justify-center\n                  px-3 py-2 rounded-lg\n                  transition-all duration-200 ease-in-out\n                  min-w-[60px] touch-manipulation\n                  ${e.active?"text-primary bg-primary/10 scale-105":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}\n                `,style:{minHeight:"48px",WebkitTapHighlightColor:"transparent"},children:[u.jsx(s,{className:"w-5 h-5 "+(e.active?"stroke-2":"stroke-1.5")}),u.jsx("span",{className:"text-xs mt-1 font-medium "+(e.active?"font-semibold":""),children:e.label})]},e.id)})})}),u.jsx("div",{className:"md:hidden",style:{height:"calc(60px + env(safe-area-inset-bottom))",minHeight:"60px"}})]})},Us=()=>{const{isZh:e}=$t(),[t,s]=x.useState(!1);return x.useEffect(()=>{!localStorage.getItem("mobile-gesture-hint-seen")&&/Mobi|Android/i.test(navigator.userAgent)&&(s(!0),setTimeout(()=>{s(!1),localStorage.setItem("mobile-gesture-hint-seen","true")},5e3))},[]),t?u.jsx("div",{className:"fixed top-20 left-4 right-4 z-50 md:hidden",children:u.jsxs("div",{className:"bg-primary text-primary-foreground rounded-lg p-3 shadow-lg animate-slide-down",children:[u.jsx("p",{className:"text-sm text-center",children:e?"📱 下拉可刷新，向上滑动查看更多新闻":"📱 Pull down to refresh, swipe up for more news"}),u.jsx("button",{onClick:()=>{s(!1),localStorage.setItem("mobile-gesture-hint-seen","true")},className:"absolute top-1 right-2 text-primary-foreground/80 hover:text-primary-foreground",children:"×"})]})}):null};const qs=new class{constructor(){n(this,"cache",new Map),n(this,"CACHE_DURATION",3e5)}set(e,t){this.cache.set(e,{data:[...t],timestamp:Date.now()})}get(e){const t=this.cache.get(e);return t?Date.now()-t.timestamp>this.CACHE_DURATION?(this.cache.delete(e),null):[...t.data]:null}clear(){this.cache.clear()}};let Hs=!1,Ws=0;const Fs=()=>{const[e,t]=x.useState([]),[s,r]=x.useState([]),[n,a]=x.useState(!1),[i,o]=x.useState("全部"),[c,l]=x.useState(null),[d,u]=x.useState(0),{filterNews:m}=(()=>{const e=(e,t,s)=>{const r=`${e} ${t} ${s}`.toLowerCase();return["artificial intelligence","machine learning","deep learning","ai model","algorithm","computer science","technology","innovation","research","development","programming","software","hardware","data science","neural network","automation","robotics","computer vision","natural language processing","blockchain","cryptocurrency"].some(e=>r.includes(e))||["ai","科技","tech","technology","经济","economy","business"].some(e=>s.toLowerCase().includes(e)),!0};return{isContentSafe:e,filterNews:t=>t.filter(t=>{if("InfoQ中文"===t.source){const e=t.title||"";if(t.content,e.includes("AICon")||e.includes("挑战赛")||e.includes("开启")||e.includes("启动")||e.includes("技术岗位")&&e.includes("占比")||e.includes("秋招")||e.length<15)return!1}const s=t.title||"";return!!["谷歌","Google","微软","Microsoft","苹果","Apple","亚马逊","Amazon","Meta","Facebook","OpenAI","ChatGPT","AI","人工智能","机器学习","Opal","实验室","算法","深度学习","neural","云计算"].some(e=>s.toLowerCase().includes(e.toLowerCase()))||e(t.title||"",t.content||t.summary||"",t.category||"")})}})(),{getLocalizedNewsArray:h,getLocalizedCategory:p}=ws(),g=x.useCallback(e=>{const t=m(e).sort((e,t)=>{const s=new Date(e.publishedAt).getTime();return new Date(t.publishedAt).getTime()-s});return h(t)},[m,h]),f=x.useCallback(async(s=!1)=>{if(n&&!s)return;const i=Date.now();if(s||!(i-d<1e4)){a(!0),l(null);try{const e=await(async(e=!1)=>{const t="news-data";if(Hs){for(;Hs;)await new Promise(e=>setTimeout(e,100));const e=qs.get(t);if(e)return e}const s=Date.now();if(s-Ws<2e3){const e=qs.get(t);if(e)return e}if(!e){const e=qs.get(t);if(e)return e}Hs=!0,Ws=s;const r=/micromessenger/i.test(navigator.userAgent),n=e?`/news-data.json?t=${s}&v=2`:"/news-data.json";try{const s=await fetch(n,{method:"GET",cache:e?"no-cache":"default",headers:{Accept:"application/json",...e&&{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},...r&&{"User-Agent":"WeChat"}},signal:AbortSignal.timeout(1e4)});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const a=s.headers.get("content-type");if(!a||!a.includes("application/json"))throw new Error("服务器返回的不是JSON数据");const i=await s.json();if(i?.success&&i?.data&&Array.isArray(i.data))return qs.set(t,i.data),i.data;if(Array.isArray(i))return qs.set(t,i),i;throw new Error("新闻数据格式不正确")}catch(c){const s=qs.get(t);if(s&&s.length>0)return s;if(c instanceof TypeError&&c.message.includes("Failed to fetch"))throw new Error("网络连接失败，请检查网络连接后重试");throw c}finally{Hs=!1}})(s);if(!e||0===e.length)throw new Error("未获取到新闻数据");const n=g(e);r(e),t(n),u(i)}catch(o){const s=o instanceof Error?o.message:"网络连接错误，请检查网络设置";if(l(s),0===e.length)try{const e=qs.get("news-data");if(e&&e.length>0){const s=g(e);r(e),t(s)}}catch(m){}}finally{a(!1)}}},[g,d,n,e.length]);x.useEffect(()=>{if(s.length>0){const e=setTimeout(()=>{const e=g(s);t(e)},50);return()=>clearTimeout(e)}},[s,g]),x.useEffect(()=>{f();const e=setInterval(()=>{f(!0)},18e5);return()=>{clearInterval(e)}},[f]);const y=x.useMemo(()=>{if(!e||0===e.length)return[];const t=p("全部"),s=i===t?e:e.filter(e=>p(e.category)===i);if(s.length<=1)return s;return s.map(e=>({...e,timestamp:new Date(e.publishedAt).getTime()})).sort((e,t)=>t.timestamp-e.timestamp).map(({timestamp:e,...t})=>t)},[e,i,p]),v=["全部","中国AI","国际AI","科技新闻","AI趣味新闻"],b=x.useMemo(()=>v.map(e=>p(e)),[p]),w=x.useCallback(()=>{qs.clear(),f(!0)},[f]);return{news:y,loading:n,error:c,categories:b,selectedCategory:i,setSelectedCategory:o,refreshNews:w,lastFetchTime:d}},Bs=()=>{const{news:e,loading:t,error:s,categories:r,selectedCategory:n,setSelectedCategory:a,refreshNews:i}=Fs(),{isZh:o}=$t(),{saveScrollPosition:c,restoreScrollPosition:l}=(({key:e,restoreOnMount:t=!0,saveDelay:s=100})=>{const r=x.useRef(0),n=x.useRef(),a=x.useRef(!1),i=x.useCallback(t=>{r.current=t,"undefined"!=typeof window&&sessionStorage.setItem(`scroll-${e}`,t.toString())},[e]),o=x.useCallback(()=>{if("undefined"==typeof window)return 0;const t=sessionStorage.getItem(`scroll-${e}`);return t?parseInt(t,10):0},[e]),c=x.useCallback(()=>{if("undefined"==typeof window)return;const e=o();e>0&&(a.current=!0,setTimeout(()=>{window.scrollTo({top:e,behavior:"auto"}),setTimeout(()=>{a.current=!1},50)},100))},[o]),l=x.useCallback(()=>{"undefined"==typeof window||a.current||i(window.scrollY)},[i]),d=x.useCallback(()=>{"undefined"!=typeof window&&sessionStorage.removeItem(`scroll-${e}`),r.current=0},[e]);return x.useEffect(()=>{if("undefined"==typeof window)return;const e=()=>{if(a.current)return;const e=window.scrollY;n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{i(e)},s)};window.addEventListener("scroll",e,{passive:!0});const t=()=>{l()};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("beforeunload",t),n.current&&clearTimeout(n.current)}},[i,s,l]),x.useEffect(()=>{if(t){const e=setTimeout(()=>{c()},200);return()=>clearTimeout(e)}},[t,c]),{saveCurrentPosition:l,restoreScrollPosition:c,clearSavedPosition:d,getCurrentPosition:()=>r.current}})({key:"news-list-scroll",restoreOnMount:!0,saveOnUnmount:!0}),{debounce:d,preloadResource:m}=((e={})=>{const{enableVirtualization:t=!0,enableLazyLoading:r=!0,enablePrefetch:n=!0,debounceDelay:a=300}=e,i=x.useRef(),o=x.useRef(),c=x.useCallback((e,t=a)=>(...s)=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>e(...s),t)},[a]),l=x.useCallback((e,t=a)=>{let s=0;return(...r)=>{const n=Date.now();n-s>=t&&(s=n,e(...r))}},[a]),d=x.useCallback(e=>{i.current&&cancelAnimationFrame(i.current),i.current=window.requestAnimationFrame(e)},[]),u=x.useCallback((e,t="image")=>{if(!n)return;const r=document.createElement("link");return r.rel="preload",r.href=e,r.as=t,r.crossOrigin="anonymous",document.head.appendChild(r),()=>{try{document.head.removeChild(r)}catch(s){}}},[n]),m=x.useCallback(()=>r&&"IntersectionObserver"in window?new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,s=t.dataset.src;s&&(t.src=s,t.removeAttribute("data-src"),t.classList.remove("lazy"),t.classList.add("lazy-loaded"))}})},{rootMargin:"50px 0px",threshold:.1}):null,[r]),h=x.useCallback(()=>{if("memory"in performance){const e=performance.memory;e.usedJSHeapSize/1024/1024/(e.totalJSHeapSize/1024/1024)>.8&&window.gc&&window.gc()}},[]),p=x.useCallback(e=>{e.style.transition="opacity 0.3s ease-in-out",e.style.opacity="0";const t=()=>{e.style.opacity="1",e.removeEventListener("load",t)},s=()=>{e.style.opacity="1",e.removeEventListener("error",s)};e.addEventListener("load",t),e.addEventListener("error",s)},[]),g=x.useCallback(e=>{d(()=>{e.forEach(e=>e())})},[d]);return x.useEffect(()=>()=>{i.current&&cancelAnimationFrame(i.current),o.current&&clearTimeout(o.current)},[]),x.useEffect(()=>{const e=setInterval(h,6e4);return()=>clearInterval(e)},[h]),{debounce:c,throttle:l,requestAnimationFrame:d,preloadResource:u,createLazyImageObserver:m,monitorMemoryUsage:h,optimizeImageLoading:p,batchDOMOperations:g}})(),[h,p]=x.useState(new Date),[g,f]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState(!1),[j,N]=x.useState(!1);x.useEffect(()=>{!t&&!s&&e.length>0&&p(new Date)},[e,t,s]);const A=d(()=>{c(),i(),p(new Date),setTimeout(()=>{l()},300)},1e3);return u.jsxs(Ds,{preventScrollReset:!0,enablePullToRefresh:!0,onPullToRefresh:A,children:[u.jsx(Ls,{onMetrics:e=>{}}),u.jsxs(_t,{children:[u.jsx("title",{children:"AI推 - 最新AI资讯聚合平台"}),u.jsx("meta",{name:"description",content:"AI推为您聚合最新的人工智能资讯、技术动态、深度分析和行业趋势，让您第一时间了解AI领域的最新发展。"}),u.jsx("link",{rel:"canonical",href:"https://news.aipush.fun/"}),u.jsx("meta",{name:"robots",content:"index,follow"}),u.jsx("meta",{name:"googlebot",content:"index,follow"}),u.jsx("meta",{name:"wxcard:title",content:"AI推 - 最新AI资讯聚合平台"}),u.jsx("meta",{name:"wxcard:desc",content:"AI推为您聚合最新的人工智能资讯、技术动态、深度分析和行业趋势，让您第一时间了解AI领域的最新发展。"}),u.jsx("meta",{name:"wxcard:imgUrl",content:`${window.location.origin}/wechat-share-300.png?v=2025080802`}),u.jsx("meta",{name:"wxcard:link",content:window.location.origin}),u.jsx("meta",{property:"og:type",content:"website"}),u.jsx("meta",{property:"og:url",content:window.location.origin}),u.jsx("meta",{property:"og:title",content:"AI推 - 最新AI资讯聚合平台"}),u.jsx("meta",{property:"og:description",content:"AI推为您聚合最新的人工智能资讯、技术动态、深度分析和行业趋势，让您第一时间了解AI领域的最新发展。"}),u.jsx("meta",{property:"og:image",content:`${window.location.origin}/wechat-share-300.png?v=2025080802`}),u.jsx("meta",{property:"og:image:width",content:"300"}),u.jsx("meta",{property:"og:image:height",content:"300"}),u.jsx("meta",{property:"og:image:type",content:"image/png"}),u.jsx("meta",{property:"og:site_name",content:"AI推"}),u.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{property:"twitter:url",content:window.location.origin}),u.jsx("meta",{property:"twitter:title",content:"AI推 - 最新AI资讯聚合平台"}),u.jsx("meta",{property:"twitter:description",content:"AI推为您聚合最新的人工智能资讯、技术动态、深度分析和行业趋势，让您第一时间了解AI领域的最新发展。"}),u.jsx("meta",{property:"twitter:image",content:`${window.location.origin}/wechat-share-300.png?v=2025080802`})]}),u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Vt,{onMenuClick:()=>f(!0)}),u.jsx(_s,{isOpen:g,onClose:()=>f(!1),onMenuClick:e=>{switch(f(!1),e){case"daily-briefing":v(!0);break;case"rss-subscribe":N(!0);break;case"disclaimer":w(!0)}}}),u.jsx(zs,{isOpen:y,onClose:()=>v(!1)}),u.jsx(Ps,{isOpen:b,onClose:()=>w(!1)}),u.jsx($s,{isOpen:j,onClose:()=>N(!1)}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-6",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx(Zt,{categories:r,activeCategory:n,onCategoryChange:a})}),!s&&u.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded-lg px-4 py-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[u.jsx(_,{className:"w-4 h-4"}),u.jsx("span",{children:(e=>{const t=(new Date).getTime()-e.getTime(),s=Math.floor(t/6e4);if(s<1)return o?"刚刚更新":"Just updated";if(s<60)return o?`${s}分钟前更新`:`Updated ${s}m ago`;{const e=Math.floor(s/60);return o?`${e}小时前更新`:`Updated ${e}h ago`}})(h)}),u.jsxs("span",{className:"text-xs opacity-75",children:["• ",o?"每5分钟自动刷新":"Auto refresh every 5min"]})]}),u.jsxs("button",{onClick:A,disabled:t,className:"flex items-center space-x-2 px-3 py-1.5 bg-primary/10 hover:bg-primary/20 text-primary rounded-md transition-colors disabled:opacity-50",children:[u.jsx(S,{className:"w-4 h-4 "+(t?"animate-spin":"")}),u.jsx("span",{className:"text-sm",children:o?"刷新":"Refresh"})]})]}),s&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsxs("div",{className:"text-red-500 mb-4 text-center",children:[u.jsx("p",{className:"font-semibold",children:o?"新闻获取失败":"Failed to fetch news"}),u.jsx("p",{className:"text-sm",children:s})]}),u.jsxs("button",{onClick:A,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:[u.jsx(S,{className:"w-4 h-4 "+(t?"animate-spin":"")}),u.jsx("span",{children:o?"重新获取":"Retry"})]})]}),t&&u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[u.jsx(W,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:o?"正在获取最新AI新闻...":"Loading latest AI news..."})]})}),!t&&!s&&e.length>0&&u.jsx(Rs,{news:e,className:"mobile-scroll-container",containerHeight:800,itemHeight:400}),!t&&!s&&0===e.length&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:o?"暂无新闻":"No news available"}),u.jsx("p",{className:"text-muted-foreground",children:o?"请稍后再试，或切换其他分类查看":"Please try again later or switch to another category"})]})]}),u.jsx(Ms,{onMenuClick:()=>f(!0),currentPath:"/"}),u.jsx(Us,{})]})]})},Gs=x.lazy(()=>he(()=>import("./NewsDetailPage-BKmjOKCI-1755842899162.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),Vs=x.lazy(()=>he(()=>import("./NotFound-BuCI9CfC-1755842899162.js"),__vite__mapDeps([11,1,2,7]))),Qs=x.lazy(()=>he(()=>import("./WeChatDebugPage-DUziU_yT-1755842899162.js"),__vite__mapDeps([12,1,2,6,8,5,9,7,4,10]))),Js=x.lazy(()=>he(()=>import("./DebugNews-B28VGLJ3-1755842899162.js"),__vite__mapDeps([13,1,2,8,5,9,7,4,10]))),Ks=x.lazy(()=>he(()=>import("./AboutPage-erx7aEUS-1755842899162.js"),__vite__mapDeps([14,1,2,3,4,5,8,9,7,10]))),Zs=x.lazy(()=>he(()=>import("./ServicesPage-DuBwd9ur-1755842899162.js"),__vite__mapDeps([15,1,2,7,5,8,9,4,10]))),Ys=x.lazy(()=>he(()=>import("./ContactPage-CBpm4dab-1755842899162.js"),__vite__mapDeps([16,1,2,17,5,8,9,7,4,10]))),Xs=x.lazy(()=>he(()=>import("./BlogPage-Bwa4WP54-1755842899162.js"),__vite__mapDeps([18,1,2,17,7,5,8,9,4,10]))),er=x.lazy(()=>he(()=>import("./BlogArticlePage-DohGaX9m-1755842899162.js"),__vite__mapDeps([19,1,2,7,3,4,5,20,8,9,10]))),tr=x.lazy(()=>he(()=>import("./WebsiteIntroPage-BXhrX5yx-1755842899162.js"),__vite__mapDeps([21,1,2,3,4,7,5,8,9,10]))),sr=x.lazy(()=>he(()=>import("./GPT5PricingAnalysisPage-DNBozB2D-1755842899162.js"),__vite__mapDeps([22,1,2,8,5,9,7,4,10]))),rr=new K({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,retry:2,refetchOnWindowFocus:!1}}}),nr=()=>u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"加载中..."})]})}),ar=()=>{const{isWeChat:e}=Lt(),[t,s]=x.useState(!1),[r,n]=x.useState(!1),a=Wt()?se:re;return(()=>{const e=navigator.language.startsWith("zh");v.useEffect(()=>{const e=e=>{/micromessenger/i.test(navigator.userAgent)&&setTimeout(()=>{"/"!==window.location.pathname&&(window.location.href="/")},3e3)},t=e=>{/micromessenger/i.test(navigator.userAgent)};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[e])})(),x.useEffect(()=>{const e=()=>{try{Wt()||Bt(),Wt()&&"/"!==window.location.pathname&&Ft(),n(!0)}catch(e){s(!0)}};return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),()=>{document.removeEventListener("DOMContentLoaded",e)}},[]),x.useEffect(()=>{if(e){const e=e=>{s(!0)};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)}},[e]),r?t?u.jsx(qt,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"页面出现错误"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"正在为您返回首页..."}),u.jsx("button",{onClick:()=>window.location.href="/",className:"text-blue-500 hover:text-blue-700 underline",children:"点击这里返回首页"})]})})}):u.jsx(qt,{children:u.jsx(Z,{client:rr,children:u.jsx(It,{children:u.jsx(Pt,{children:u.jsxs($e,{children:[u.jsx(Oe,{}),u.jsx(Pe,{}),u.jsx(Dt,{}),u.jsxs(a,{children:[u.jsx(Ht,{}),u.jsx(x.Suspense,{fallback:u.jsx(nr,{}),children:u.jsxs(ee,{children:[u.jsx(te,{path:"/",element:u.jsx(Bs,{})}),u.jsx(te,{path:"/news/:id",element:u.jsx(Gs,{})}),u.jsx(te,{path:"/about",element:u.jsx(Ks,{})}),u.jsx(te,{path:"/services",element:u.jsx(Zs,{})}),u.jsx(te,{path:"/contact",element:u.jsx(Ys,{})}),u.jsx(te,{path:"/blog",element:u.jsx(Xs,{})}),u.jsx(te,{path:"/blog/:slug",element:u.jsx(er,{})}),u.jsx(te,{path:"/website-intro",element:u.jsx(tr,{})}),u.jsx(te,{path:"/debug",element:u.jsx(Qs,{})}),u.jsx(te,{path:"/debug-news",element:u.jsx(Js,{})}),u.jsx(te,{path:"/gpt5-pricing-analysis",element:u.jsx(sr,{})}),u.jsx(te,{path:"*",element:u.jsx(Vs,{})})]})})]})]})})})})}):u.jsx(qt,{children:u.jsx(nr,{})})},ir=/micromessenger/i.test(navigator.userAgent);"serviceWorker"in navigator&&!ir?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&window.dispatchEvent(new CustomEvent("sw-update-available"))})})}).catch(e=>{})}):ir&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(let t of e)t.unregister().then(function(e){})}),s(document.getElementById("root")).render(u.jsx(ar,{}));export{vs as B,ms as C,_t as H,ws as a,xs as b,gs as c,hs as d,Fs as e,ps as f,Mt as g,Ne as h,Ut as i,je as j,$t as u};
