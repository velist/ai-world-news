# GitHub Actions è‡ªåŠ¨åšå®¢ç”Ÿæˆå·¥ä½œæµä¿®å¤æ–¹æ¡ˆ

## ğŸš¨ é—®é¢˜è¯Šæ–­

**å½“å‰çŠ¶æ€ï¼š** æ‰€æœ‰è‡ªåŠ¨åšå®¢ç”Ÿæˆå·¥ä½œæµéƒ½å¤±è´¥
**å¤±è´¥åŸå› ï¼š** GitHub Actionsæƒé™ä¸è¶³ï¼Œæ— æ³•å‘ä»“åº“æäº¤æ›´æ”¹
**æƒé™ç°çŠ¶ï¼š** `default_workflow_permissions: read`ï¼ˆéœ€è¦ï¼šwriteï¼‰

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ³•1ï¼šé€šè¿‡GitHub Webç•Œé¢ä¿®å¤ï¼ˆæ¨èï¼‰

1. **è®¿é—®ä»“åº“è®¾ç½®é¡µé¢**
   ```
   https://github.com/velist/ai-world-news/settings/actions
   ```

2. **ä¿®æ”¹å·¥ä½œæµæƒé™**
   - æ‰¾åˆ° "Workflow permissions" éƒ¨åˆ†
   - é€‰æ‹© `Read and write permissions`
   - å‹¾é€‰ `Allow GitHub Actions to create and approve pull requests`
   - ç‚¹å‡» `Save` æŒ‰é’®

### æ–¹æ³•2ï¼šé€šè¿‡APIä¿®å¤ï¼ˆæŠ€æœ¯æ–¹æ¡ˆï¼‰

ä½¿ç”¨GitHub CLIå‘½ä»¤ä¿®å¤æƒé™ï¼š

```bash
# è®¾ç½®å·¥ä½œæµä¸ºè¯»å†™æƒé™
gh api -X PUT repos/velist/ai-world-news/actions/permissions/workflow \
  -f default_workflow_permissions=write \
  -f can_approve_pull_request_reviews=true
```

### æ–¹æ³•3ï¼šåœ¨å·¥ä½œæµæ–‡ä»¶ä¸­æ˜ç¡®æƒé™ï¼ˆå¤‡é€‰ï¼‰

å¦‚æœæ— æ³•ä¿®æ”¹ä»“åº“çº§åˆ«æƒé™ï¼Œå¯ä»¥åœ¨å·¥ä½œæµæ–‡ä»¶ä¸­æ˜ç¡®æŒ‡å®šæƒé™ï¼š

```yaml
name: Auto Blog Generation
on:
  schedule:
    - cron: '0 1,7 * * *'  # UTCæ—¶é—´1:00å’Œ7:00

permissions:
  contents: write
  actions: read
  checks: write

jobs:
  generate-blog:
    runs-on: ubuntu-latest
    # å…¶ä½™å·¥ä½œæµé…ç½®...
```

## ğŸ“Š å½“å‰å·¥ä½œæµå¤±è´¥ç»Ÿè®¡

```
æœ€è¿‘4æ¬¡è¿è¡Œç»“æœï¼š
âŒ 2025-08-14 07:17 - å¤±è´¥ï¼ˆæƒé™é—®é¢˜ï¼‰
âŒ 2025-08-14 02:47 - å¤±è´¥ï¼ˆæƒé™é—®é¢˜ï¼‰  
âŒ 2025-08-13 07:17 - å¤±è´¥ï¼ˆæƒé™é—®é¢˜ï¼‰
âŒ 2025-08-13 02:46 - å¤±è´¥ï¼ˆæƒé™é—®é¢˜ï¼‰
```

## ğŸ¯ ä¿®å¤éªŒè¯æ­¥éª¤

ä¿®å¤æƒé™åï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤éªŒè¯ï¼š

1. **æ‰‹åŠ¨è§¦å‘å·¥ä½œæµæµ‹è¯•**
   ```bash
   gh workflow run "Auto Blog Generation"
   ```

2. **ç­‰å¾…å‡ åˆ†é’Ÿåæ£€æŸ¥çŠ¶æ€**
   ```bash
   gh run list --workflow="Auto Blog Generation" --limit 1
   ```

3. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ç¡®è®¤æˆåŠŸ**
   ```bash
   gh run view --log
   ```

## ğŸš€ é¢„æœŸä¿®å¤æ•ˆæœ

æƒé™ä¿®å¤æˆåŠŸåï¼š

âœ… **è‡ªåŠ¨åšå®¢ç”Ÿæˆå°†æ­£å¸¸è¿è¡Œ**
- æ¯å¤©UTC 1:00ï¼ˆåŒ—äº¬æ—¶é—´09:00ï¼‰è‡ªåŠ¨æ‰§è¡Œ
- æ¯å¤©UTC 7:00ï¼ˆåŒ—äº¬æ—¶é—´15:00ï¼‰è‡ªåŠ¨æ‰§è¡Œ
- æˆåŠŸç”Ÿæˆ2-3ç¯‡AIæ–°é—»åšå®¢æ–‡ç« 
- è‡ªåŠ¨æäº¤åˆ°ä»“åº“å¹¶è§¦å‘éƒ¨ç½²

âœ… **åšå®¢å†…å®¹å°†æŒç»­æ›´æ–°**
- åŸºäºæœ€æ–°AIæ–°é—»è‡ªåŠ¨ç”Ÿæˆå†…å®¹
- æ™ºèƒ½å»é‡ï¼Œé¿å…é‡å¤æ–‡ç« 
- SEOä¼˜åŒ–çš„HTMLé¡µé¢è‡ªåŠ¨ç”Ÿæˆ
- æœç´¢å¼•æ“sitemapè‡ªåŠ¨æ›´æ–°

## âš¡ ç´§æ€¥ä¿®å¤æŒ‡ä»¤

å¦‚æœéœ€è¦ç«‹å³ä¿®å¤ï¼Œè¯·æ‰§è¡Œï¼š

```bash
# 1. ç›´æ¥é€šè¿‡APIä¿®å¤æƒé™
gh api -X PUT repos/velist/ai-world-news/actions/permissions/workflow \
  -f default_workflow_permissions=write \
  -f can_approve_pull_request_reviews=true

# 2. éªŒè¯ä¿®å¤ç»“æœ
gh api repos/velist/ai-world-news/actions/permissions/workflow

# 3. æ‰‹åŠ¨è§¦å‘æµ‹è¯•
gh workflow run "Auto Blog Generation"
```

---

**ä¿®å¤çŠ¶æ€ï¼š** ğŸ”„ ç­‰å¾…æƒé™é…ç½®ä¿®å¤  
**é¢„è®¡ä¿®å¤æ—¶é—´ï¼š** 5åˆ†é’Ÿ  
**å½±å“èŒƒå›´ï¼š** è‡ªåŠ¨åšå®¢ç”ŸæˆåŠŸèƒ½  
**ä¿®å¤è´Ÿè´£äººï¼š** Claude Code AIåŠ©æ‰‹  